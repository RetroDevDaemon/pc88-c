ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 1.
Hexadecimal [24-Bits]



                                      1 ;   MUSIC DRIVE Ver 1.0
                                      2 ;   FOR PC-8801MK2SR/FR/MR/TR
                                      3 ;   1987/3~	FH/MH/FA/MA & VA
                                      4 ;   PROGRAMED BY YUZO KOSHIRO
                                      5 ; modified by @RetroDevDiscord	
                                      6 ;  for sdasz80
                                      7 
                                      8 	.area SOUNDDRV (ABS)
                                      9 
                                     10 
                           00F302    11 VRTC = 0xf302; :	EQU	0F302H
                           00F304    12 R_TIME = 0xf304;:	EQU	0F304H
                           00F308    13 INT3 = 0xf308;:	EQU	0F308H
                           00E6C3    14 S.ILVL = 0xe6c3;:	EQU	0E6C3H
                           00000B    15 MAXCH = 11;:		EQU	11
                                     16 	
                           00C200    17 MUSNUM = 0xC200	; data start address
                           00E300    18 PCMADR = 0xE300	; ADPCM data table start addr
                           00AA00    19 EFCTBL = 0xAA00	; sfx start addr
                                     20 	
                           00C201    21 OTODAT = MUSNUM+1
                           00C205    22 MU_TOP .equ	MUSNUM+5
                                     23 	
                                     24 	
      00B000                         25 	.org 0xb000
                                     26 	
                                     27 ; cmd list:	
      00B000 C3 5F B0         [10]   28 	JP	MSTART
      00B003 C3 79 B0         [10]   29 	JP	MSTOP
      00B006 C3 8C B0         [10]   30 	JP	FDO
      00B009 C3 2B B0         [10]   31 	JP	EFECT
      00B00C C3 10 B0         [10]   32 	JP	RETW
                                     33 
                                     34 ;; Commands List 
                                     35 ;
                                     36 ; ld a, TrackNo
                                     37 ; call 0xb000 - play
                                     38 
                                     39 ; call 0xb003 - stop
                                     40 
                                     41 ; call 0xb006 - fadeout 
                                     42 
                                     43 ; ld hl, priority << 8 | sfx number
                                     44 ; call 0xb009 - SFX
                                     45 
                                     46 ; call 0xb00c - Return work address
                                     47 
                                     48 ;;;
                                     49 
      00B00F 00                      50 FLGADR: .db	0	;#n	
                                     51 	
                                     52 ; **	RETURN WORK ADR	**
                                     53 	
                                     54 	;IN:	A<-���������(0-10)
                                     55 	;EXIT:	IX
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 2.
Hexadecimal [24-Bits]



      00B010                         56 RETW:
      00B010 DD 21 A6 BE      [14]   57 	LD	IX,#CH1DAT
      00B014 B7               [ 4]   58 	OR	A
      00B015 C8               [11]   59 	RET	Z
      00B016 11 26 00         [10]   60 	LD	DE,#CH2DAT-#CH1DAT
      00B019                         61 RETW2:
      00B019 DD 19            [15]   62 	ADD	IX,DE
      00B01B 3D               [ 4]   63 	DEC	A
      00B01C C8               [11]   64 	RET	Z
      00B01D 18 FA            [12]   65 	JR	RETW2
                                     66 	
                                     67 ; **	EFC FROM BASIC	**
                                     68 	
                                     69 	;USR(n):	n=0<->max255
      00B01F                         70 EFC:
                                     71 	
      00B01F FE 02            [ 7]   72 	CP	#2
      00B021 C0               [11]   73 	RET	NZ
      00B022 CD A0 21         [17]   74 	CALL	#0x21A0	;FACC->BIN
      00B025 26 01            [ 7]   75 	LD	H,#1	;PRI
      00B027 CD 2B B0         [17]   76 	CALL	EFECT
      00B02A C9               [10]   77 	RET
                                     78 	
                                     79 	
                                     80 ; **	EFECT	***
                                     81 	
                                     82 	;IN:	H<=��ײ��è
                                     83 	;	L<=EFC ����
                                     84 	
      00B02B                         85 EFECT:
      00B02B 3A 70 C0         [13]   86 	LD	A,(PRISSG)
      00B02E BC               [ 4]   87 	CP	H
      00B02F 28 01            [12]   88 	JR	Z,EFECT2
      00B031 D0               [11]   89 	RET	NC
      00B032                         90 EFECT2:
      00B032 F3               [ 4]   91 	DI
      00B033 7C               [ 4]   92 	LD	A,H
      00B034 32 70 C0         [13]   93 	LD	(PRISSG),A
      00B037 7D               [ 4]   94 	LD	A,L
      00B038 87               [ 4]   95 	ADD	A,A
      00B039 6F               [ 4]   96 	LD	L,A
      00B03A 26 00            [ 7]   97 	LD	H,#0
      00B03C 11 00 AA         [10]   98 	LD	DE,#EFCTBL
      00B03F 19               [11]   99 	ADD	HL,DE
      00B040 7E               [ 7]  100 	LD	A,(HL)
      00B041 23               [ 6]  101 	INC	HL
      00B042 66               [ 7]  102 	LD	H,(HL)
      00B043 6F               [ 4]  103 	LD	L,A
      00B044 11 00 00         [10]  104 	LD	DE,#0
      00B047 3E 01            [ 7]  105 	LD	A,#1
      00B049 22 66 BF         [16]  106 	LD	(CH6DAT+2),HL
      00B04C ED 53 68 BF      [20]  107 	LD	(CH6DAT+4),DE
      00B050 32 64 BF         [13]  108 	LD	(CH6DAT),A
      00B053 DD 21 64 BF      [14]  109 	LD	IX,#CH6DAT
      00B057 21 71 C0         [10]  110 	LD	HL,#DMY
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 3.
Hexadecimal [24-Bits]



      00B05A CD 3C BB         [17]  111 	CALL	NOISE
      00B05D FB               [ 4]  112 	EI
      00B05E C9               [10]  113 	RET
                                    114 	
                                    115 	
                                    116 	
                                    117 ; **	MUSIC START/STOP	**
                                    118 	
                                    119 ;	IN: A<= MUSIC NUMBER (0->)
                                    120 	
      00B05F                        121 MSTART:
                                    122 	;LD	A,#0	;!
                                    123 	
      00B05F F3               [ 4]  124 	DI
      00B060 32 00 C2         [13]  125 	LD	(MUSNUM),A
      00B063 CD 35 BE         [17]  126 	CALL	CHK
      00B066 CD 2C B4         [17]  127 	CALL	AKYOFF
      00B069 CD D0 BB         [17]  128 	CALL	SSGOFF
      00B06C CD B4 BC         [17]  129 	CALL	WORKINIT
      00B06F                        130 START:
      00B06F E5               [11]  131 	PUSH	HL
      00B070 CD FB B0         [17]  132 	CALL	INT57 ; this fails
                                    133 	;CALL	ENBL  ; this fails 
      00B073 CD 7E BD         [17]  134 	CALL	TO_NML
      00B076 E1               [10]  135 	POP	HL
      00B077 FB               [ 4]  136 	EI
      00B078 C9               [10]  137 	RET
      00B079                        138 MSTOP:
      00B079 F3               [ 4]  139 	DI
      00B07A CD 2C B4         [17]  140 	CALL	AKYOFF
      00B07D CD D0 BB         [17]  141 	CALL	SSGOFF
      00B080 3A 76 BE         [13]  142 	LD	A,(M_VECTR)
      00B083 4F               [ 4]  143 	LD	C,A
      00B084 ED 78            [12]  144 	IN	A,(C)
      00B086 F6 80            [ 7]  145 	OR	#0b10000000
      00B088 ED 79            [12]  146 	OUT	(C),A
      00B08A FB               [ 4]  147 	EI
      00B08B C9               [10]  148 	RET
                                    149 	
                                    150 	
                                    151 ; **	FADEOUT		**
                                    152 	
      00B08C                        153 FDO:
      00B08C 3E 10            [ 7]  154 	LD	A,#16
      00B08E 32 7A BE         [13]  155 	LD	(FDCO),A
      00B091 C9               [10]  156 	RET
      00B092                        157 FDOUT:
      00B092 21 7B BE         [10]  158 	LD	HL,#FDCO+1
      00B095 35               [11]  159 	DEC	(HL)
      00B096 C0               [11]  160 	RET	NZ
      00B097 36 10            [10]  161 	LD	(HL),#16
      00B099 3A 7A BE         [13]  162 	LD	A,(FDCO)
      00B09C B7               [ 4]  163 	OR	A
      00B09D C8               [11]  164 	RET	Z
      00B09E 3D               [ 4]  165 	DEC	A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 4.
Hexadecimal [24-Bits]



      00B09F 32 7A BE         [13]  166 	LD	(FDCO),A
      00B0A2                        167 FDO2:
      00B0A2 C6 F0            [ 7]  168 	ADD	A,#0xF0
      00B0A4 32 79 BE         [13]  169 	LD	(TOTALV),A
      00B0A7 AF               [ 4]  170 	XOR	A
      00B0A8 32 7F BE         [13]  171 	LD	(FMPORT),A
      00B0AB DD 21 A6 BE      [14]  172 	LD	IX,#CH1DAT
      00B0AF CD E2 B0         [17]  173 	CALL	FDOFM
      00B0B2 06 03            [ 7]  174 	LD	B,#3
      00B0B4                        175 FDOSSG:
      00B0B4 C5               [11]  176 	PUSH	BC
      00B0B5 DD 7E 06         [19]  177 	LD	A,6(IX)
      00B0B8 4F               [ 4]  178 	LD	C,A
      00B0B9 E6 F0            [ 7]  179 	AND	#0b11110000
      00B0BB 5F               [ 4]  180 	LD	E,A
      00B0BC 79               [ 4]  181 	LD	A,C
      00B0BD E6 0F            [ 7]  182 	AND	#0b00001111
      00B0BF 4F               [ 4]  183 	LD	C,A
      00B0C0 CD C1 BB         [17]  184 	CALL	PV1
      00B0C3 11 26 00         [10]  185 	LD	DE,#WKLENG
      00B0C6 DD 19            [15]  186 	ADD	IX,DE
      00B0C8 C1               [10]  187 	POP	BC
      00B0C9 10 E9            [13]  188 	DJNZ	FDOSSG
                                    189 	
      00B0CB CD E9 B6         [17]  190 	CALL	DVOLSET
                                    191 	
      00B0CE 3E 04            [ 7]  192 	LD	A,#4
      00B0D0 32 7F BE         [13]  193 	LD	(FMPORT),A
      00B0D3 11 26 00         [10]  194 	LD	DE,#WKLENG
      00B0D6 DD 19            [15]  195 	ADD	IX,DE
      00B0D8 CD E2 B0         [17]  196 	CALL	FDOFM
                                    197 	
      00B0DB 3A 7A BE         [13]  198 	LD	A,(FDCO)
      00B0DE B7               [ 4]  199 	OR	A
      00B0DF 28 12            [12]  200 	JR	Z,FDO3
      00B0E1 C9               [10]  201 	RET
      00B0E2                        202 FDOFM:
      00B0E2 06 03            [ 7]  203 	LD	B,#3
      00B0E4                        204 FDL2:
      00B0E4 C5               [11]  205 	PUSH	BC
      00B0E5 CD D4 B7         [17]  206 	CALL	STVOL
      00B0E8 11 26 00         [10]  207 	LD	DE,#WKLENG
      00B0EB DD 19            [15]  208 	ADD	IX,DE
      00B0ED C1               [10]  209 	POP	BC
      00B0EE 10 F4            [13]  210 	DJNZ	FDL2
      00B0F0 06 03            [ 7]  211 	LD	B,#3
      00B0F2 C9               [10]  212 	RET
      00B0F3                        213 FDO3:
      00B0F3 CD 79 B0         [17]  214 	CALL MSTOP
                                    215 ;.ds 4096
      00B0F6 AF               [ 4]  216 	XOR	A
      00B0F7 32 79 BE         [13]  217 	LD	(TOTALV),A
      00B0FA C9               [10]  218 	RET
                                    219 	
                                    220 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 5.
Hexadecimal [24-Bits]



                                    221 ; **	�غ� � ���� ��� �����ò � ��ų	**
                                    222 
      00B0FB                        223 INT57:
      00B0FB F5               [11]  224 	PUSH	AF
      00B0FC E5               [11]  225 	PUSH	HL
      00B0FD 3E 05            [ 7]  226 	LD	A,#5
                                    227 	;LD	(S.ILVL),A
      00B0FF D3 E4            [11]  228 	OUT	(#0xE4),A	;  CUT INT 5-7
      00B101 3E 03            [ 7]  229 	LD	A,#3
      00B103 D3 E6            [11]  230 	OUT	(#0xE6),A	;  VRTC=ON;RTCLOCK=ON;USART=OFF
      00B105 ED 57            [ 9]  231 	LD	A,I
      00B107 67               [ 4]  232 	LD	H,A
      00B108 2E 08            [ 7]  233 	LD	L,#8
      00B10A 11 9D B1         [10]  234 	LD	DE,#PL_SND
      00B10D 73               [ 7]  235 	LD	(HL),E
      00B10E 23               [ 6]  236 	INC	HL
      00B10F 72               [ 7]  237 	LD	(HL),D
                                    238 ;;;; broken above here 
                                    239 	
      00B110 CD 7E BD         [17]  240 	CALL	TO_NML
      00B113                        241 INT573:
      00B113 CD 54 B1         [17]  242 	CALL	MONO
                                    243 	
      00B116 CD 2C B4         [17]  244 	CALL	AKYOFF		;  ALL KEY OFF
      00B119 CD D0 BB         [17]  245 	CALL	SSGOFF
                                    246 	
      00B11C 11 83 29         [10]  247 	LD	DE,#0x2983	; CH 4-6 ENABLE
      00B11F CD 3F B4         [17]  248 	CALL	PSGOUT
                                    249 	
      00B122 11 00 00         [10]  250         LD	DE,#0
      00B125 06 06            [ 7]  251 	LD	B,#6
      00B127                        252 INITF2:
      00B127 CD 3F B4         [17]  253 	CALL	PSGOUT
      00B12A 14               [ 4]  254 	INC	D
      00B12B 10 FA            [13]  255 	DJNZ	INITF2
                                    256 	
      00B12D 16 07            [ 7]  257 	LD	D,#7
      00B12F 1E 38            [ 7]  258 	LD	E,#0b00111000
      00B131 CD 3F B4         [17]  259 	CALL	PSGOUT
      00B134 21 52 C0         [10]  260 	LD	HL,#INITPM
      00B137 11 49 C0         [10]  261 	LD	DE,#PREGBF
      00B13A 01 09 00         [10]  262 	LD	BC,#9
      00B13D ED B0            [21]  263 	LDIR			; PSG�ޯ̧ �Ƽ�ײ��
                                    264 	
      00B13F E1               [10]  265 	POP	HL
      00B140 F1               [10]  266 	POP	AF
      00B141 C9               [10]  267 	RET
                                    268 
                                    269 ; **	Э��ޯ� �غ� ENABLE	**
                                    270 
      00B142                        271 ENBL:
                                    272 	;ret 
      00B142 3A 6F C0         [13]  273 	LD	A,(TIMER_B)
      00B145 5F               [ 4]  274 	LD	E,A
      00B146 CD 0E B8         [17]  275 	CALL	STTMB		;  SET Timer-B
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 6.
Hexadecimal [24-Bits]



                                    276 
      00B149 3A 76 BE         [13]  277 	LD	A,(M_VECTR)
      00B14C 4F               [ 4]  278 	LD	C,A
      00B14D ED 78            [12]  279 	IN	A,(C)
      00B14F E6 7F            [ 7]  280 	AND	#0x7F
      00B151 ED 79            [12]  281 	OUT	(C),A
      00B153 C9               [10]  282 	RET
                                    283 	
                                    284 ; **	ALL MONORAL / H.LFO OFF	***
                                    285 	
      00B154                        286 MONO:
      00B154 16 B4            [ 7]  287 	LD	D,#0xB4
      00B156 1E C0            [ 7]  288 	LD	E,#0xC0
      00B158 AF               [ 4]  289 	XOR	A
      00B159 32 7F BE         [13]  290 	LD	(FMPORT),A
      00B15C 06 03            [ 7]  291 	LD	B,#3
      00B15E                        292 MONO2:
      00B15E CD 3F B4         [17]  293 	CALL	PSGOUT
      00B161 14               [ 4]  294 	INC	D
      00B162 10 FA            [13]  295 	DJNZ	MONO2
                                    296 	
      00B164 16 18            [ 7]  297 	LD	D,#0x18
      00B166 06 06            [ 7]  298         LD	B,#6
      00B168                        299 MONO3:
      00B168 CD 3F B4         [17]  300 	CALL	PSGOUT
      00B16B 14               [ 4]  301 	INC	D
      00B16C 10 FA            [13]  302 	DJNZ	MONO3
                                    303 	
      00B16E 06 03            [ 7]  304 	LD	B,#3
      00B170 16 B4            [ 7]  305 	LD	D,#0xB4
      00B172 3E 04            [ 7]  306 	LD	A,#4
      00B174 32 7F BE         [13]  307 	LD	(FMPORT),A
      00B177                        308 MONO4:
      00B177 CD 3F B4         [17]  309 	CALL	PSGOUT
      00B17A 14               [ 4]  310 	INC	D
      00B17B 10 FA            [13]  311 	DJNZ	MONO4
                                    312 	
      00B17D AF               [ 4]  313 	XOR	A
      00B17E 32 7F BE         [13]  314 	LD	(FMPORT),A
                                    315 	
      00B181 11 00 22         [10]  316 	LD	DE,#0x2200
      00B184 CD 3F B4         [17]  317 	CALL	PSGOUT
      00B187 11 00 12         [10]  318 	LD	DE,#0x1200
      00B18A CD 3F B4         [17]  319 	CALL	PSGOUT
                                    320 	
      00B18D 21 9E BE         [10]  321 	LD	HL,#PALDAT
      00B190 06 07            [ 7]  322 	LD	B,#7
      00B192                        323 MONO5:
      00B192 36 C0            [10]  324 	LD	(HL),#0xC0
      00B194 23               [ 6]  325 	INC	HL
      00B195 10 FB            [13]  326 	DJNZ	MONO5
                                    327 	
      00B197 3E 03            [ 7]  328 	LD	A,#3
      00B199 32 A5 BE         [13]  329 	LD	(PCMLR),A
      00B19C C9               [10]  330 	RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 7.
Hexadecimal [24-Bits]



                                    331 	
                                    332 ; **	MUSIC MAIN	**
                                    333 
      00B19D                        334 PL_SND:
      00B19D F3               [ 4]  335 	DI
      00B19E F5               [11]  336 	PUSH	AF
      00B19F E5               [11]  337 	PUSH	HL
      00B1A0 D5               [11]  338 	PUSH	DE
      00B1A1 C5               [11]  339 	PUSH	BC
      00B1A2 DD E5            [15]  340 	PUSH	IX
      00B1A4 FD E5            [15]  341 	PUSH	IY
                                    342 	
      00B1A6                        343 PLSET1:
      00B1A6 1E 38            [ 7]  344  	LD	E,#0x38		;  TIMER-OFF DATA
      00B1A8 16 27            [ 7]  345  	LD	D,#0x27
      00B1AA CD 3F B4         [17]  346   	CALL	PSGOUT		;  TIMER-OFF
      00B1AD                        347 PLSET2:
      00B1AD 1E 3A            [ 7]  348 	LD	E,#0x3A
      00B1AF CD 3F B4         [17]  349 	CALL	PSGOUT		;  TIMER-ON
                                    350 
      00B1B2 CD C6 B1         [17]  351 	CALL	DRIVE
      00B1B5 CD 92 B0         [17]  352 	CALL	FDOUT
      00B1B8                        353 PLSND3:
                                    354 	
                                    355 	;LD	A,(S.ILVL)
      00B1B8 3E 05            [ 7]  356 	LD	A,#5
      00B1BA D3 E4            [11]  357 	OUT	(#0xE4),A	;CUT INT 5-7
                                    358 	
      00B1BC FD E1            [14]  359 	POP	IY
      00B1BE DD E1            [14]  360 	POP	IX
      00B1C0 C1               [10]  361 	POP	BC
      00B1C1 D1               [10]  362 	POP	DE
      00B1C2 E1               [10]  363 	POP	HL
      00B1C3 F1               [10]  364 	POP	AF
                                    365 	
      00B1C4 FB               [ 4]  366 	EI
      00B1C5 C9               [10]  367 	RET
                                    368 	
                                    369 ; **	CALL FM		**
                                    370 	
      00B1C6                        371 DRIVE:
      00B1C6 AF               [ 4]  372 	XOR	A
      00B1C7 32 7F BE         [13]  373 	LD	(FMPORT),A
                                    374 	
      00B1CA DD 21 A6 BE      [14]  375 	LD	IX,#CH1DAT
      00B1CE CD 43 B2         [17]  376 	CALL	FMENT
      00B1D1 DD 21 CC BE      [14]  377 	LD	IX,#CH2DAT
      00B1D5 CD 43 B2         [17]  378 	CALL	FMENT
      00B1D8 DD 21 F2 BE      [14]  379 	LD	IX,#CH3DAT
      00B1DC CD 43 B2         [17]  380 	CALL	FMENT
                                    381 	
                                    382 ; **	CALL SSG	**
                                    383 	
      00B1DF 3E FF            [ 7]  384 	LD	A,#0xFF
      00B1E1 32 7C BE         [13]  385 	LD	(SSGF1),A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 8.
Hexadecimal [24-Bits]



                                    386 	
      00B1E4 DD 21 18 BF      [14]  387  	LD	IX,#CH4DAT
      00B1E8 CD 3C B2         [17]  388   	CALL	SSGENT
      00B1EB DD 21 3E BF      [14]  389  	LD	IX,#CH5DAT
      00B1EF CD 3C B2         [17]  390  	CALL	SSGENT
      00B1F2 DD 21 64 BF      [14]  391  	LD	IX,#CH6DAT
      00B1F6 CD 3C B2         [17]  392  	CALL	SSGENT
      00B1F9 AF               [ 4]  393 	XOR	A
      00B1FA 32 7C BE         [13]  394 	LD	(SSGF1),A
                                    395 	
      00B1FD 3A 73 BE         [13]  396 	LD	A,(NOTSB2)
      00B200 B7               [ 4]  397 	OR	A
      00B201 C0               [11]  398 	RET	NZ
                                    399 	
      00B202 3C               [ 4]  400 	INC	A
      00B203 32 7D BE         [13]  401 	LD	(DRMF1),A
      00B206 DD 21 8A BF      [14]  402 	LD	IX,#DRAMDAT
      00B20A CD 43 B2         [17]  403 	CALL	FMENT
      00B20D AF               [ 4]  404 	XOR	A
      00B20E 32 7D BE         [13]  405 	LD	(DRMF1),A
                                    406 	
      00B211 3E 04            [ 7]  407 	LD	A,#4
      00B213 32 7F BE         [13]  408 	LD	(FMPORT),A
      00B216 DD 21 B0 BF      [14]  409 	LD	IX,#CHADAT
      00B21A CD 43 B2         [17]  410 	CALL	FMENT
      00B21D DD 21 D6 BF      [14]  411 	LD	IX,#CHBDAT
      00B221 CD 43 B2         [17]  412 	CALL	FMENT
      00B224 DD 21 FC BF      [14]  413 	LD	IX,#CHCDAT
      00B228 CD 43 B2         [17]  414 	CALL	FMENT
      00B22B 3E FF            [ 7]  415 	LD	A,#0xFF
      00B22D 32 79 C0         [13]  416 	LD	(PCMFLG),A
      00B230 DD 21 22 C0      [14]  417 	LD	IX,#PCMDAT
      00B234 CD 43 B2         [17]  418 	CALL	FMENT
      00B237 AF               [ 4]  419 	XOR	A
      00B238 32 79 C0         [13]  420 	LD	(PCMFLG),A
      00B23B C9               [10]  421 	RET
                                    422 	
      00B23C                        423 SSGENT:
      00B23C CD 81 B9         [17]  424 	CALL	SSGSUB
      00B23F CD 28 B8         [17]  425 	CALL	PLLFO
      00B242 C9               [10]  426 	RET
      00B243                        427 FMENT:
      00B243 CD 4A B2         [17]  428 	CALL	FMSUB
      00B246 CD 28 B8         [17]  429 	CALL	PLLFO
      00B249 C9               [10]  430 	RET
                                    431 	
                                    432 ;**	FM �ݹ�� � ���� �ݿ� ٰ��	**
                                    433 
      00B24A                        434 FMSUB:
      00B24A DD 7E 00         [19]  435 	LD	A,(IX)
      00B24D 3D               [ 4]  436 	DEC	A
      00B24E DD 77 00         [19]  437 	LD	(IX),A
      00B251 28 2C            [12]  438 	JR	Z,FMSUB1
                                    439 	
      00B253 DD 46 12         [19]  440 	LD	B,18(IX)	;  'q'
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 9.
Hexadecimal [24-Bits]



      00B256 B8               [ 4]  441 	CP	B
      00B257 28 01            [12]  442 	JR	Z,FMSUB0
      00B259 D0               [11]  443 	RET	NC
                                    444 
      00B25A                        445 FMSUB0:
      00B25A DD 66 03         [19]  446 	LD	H,3(IX)
      00B25D DD 6E 02         [19]  447 	LD	L,2(IX)	;  HL=SOUND DATA ADD
      00B260 7E               [ 7]  448 	LD	A,(HL)		;  A=DATA
      00B261 FE FD            [ 7]  449 	CP	#0xFD		; COUNT OVER ?
      00B263 C8               [11]  450 	RET	Z
      00B264 DD CB 21 6E      [20]  451 	BIT	5,33(IX)
      00B268 20 04            [12]  452 	JR	NZ,FS2
      00B26A CD DD B3         [17]  453 	CALL	KEYOFF
      00B26D C9               [10]  454 	RET
      00B26E                        455 FS2:
      00B26E DD 7E 06         [19]  456 	LD	A,6(IX)
      00B271 DD 86 11         [19]  457 	ADD	A,17(IX)
      00B274 4F               [ 4]  458 	LD	C,A
      00B275 CB 39            [ 8]  459 	SRL	C
      00B277 CD EB B7         [17]  460 	CALL	STV2
      00B27A DD CB 1F F6      [23]  461 	SET	6,31(IX)	;  SET KEYOFF FLAG
      00B27E C9               [10]  462 	RET
                                    463 
                                    464 ; **	SET NEW SOUND	**
                                    465 	
      00B27F                        466 FMSUB1:
      00B27F DD CB 1F F6      [23]  467 	SET	6,31(IX)
      00B283 DD 66 03         [19]  468 	LD	H,3(IX)
      00B286 DD 6E 02         [19]  469 	LD	L,2(IX)	; HL=SOUND DATA ADD
      00B289 7E               [ 7]  470 	LD	A,(HL)		; A=DATA
      00B28A FE FD            [ 7]  471 	CP	#0xFD		; COUNT OVER?
      00B28C 20 05            [12]  472 	JR	NZ,FMSUBC
      00B28E                        473 FMSUBE:
      00B28E DD CB 1F B6      [23]  474 	RES	6,31(IX)	; RES KEYOFF FLAG
      00B292 23               [ 6]  475 	INC	HL
      00B293                        476 FMSUBC:
      00B293 7E               [ 7]  477 	LD	A,(HL)		;
      00B294 B7               [ 4]  478 	OR	A		; �ް� ���خ� � �����
      00B295 20 11            [12]  479 	JR	NZ,FMSUB2	;* 00H as end
                                    480 
      00B297 DD CB 1F C6      [23]  481 	SET	0,31(IX)
      00B29B DD 56 05         [19]  482 	LD	D,5(IX)
      00B29E DD 5E 04         [19]  483 	LD	E,4(IX)	; HL=DATA TOP ADDRES
      00B2A1 7B               [ 4]  484 	LD	A,E
      00B2A2 B2               [ 4]  485 	OR	D
      00B2A3 CA 83 BC         [10]  486 	JP	Z,FMEND		;* DATA TOP ADRESS �� 0000H �� BGM
                                    487 				; � ���خ� � ��ò �� ��޲� �ض��
      00B2A6 EB               [ 4]  488 	EX	DE,HL
      00B2A7                        489 FMSUBB:
      00B2A7 7E               [ 7]  490 	LD	A,(HL)		; GET FLAG & LENGTH
                                    491 
                                    492 ; **	SET LENGTH	**
                                    493 
      00B2A8                        494 FMSUB2:
      00B2A8 23               [ 6]  495 	INC	HL
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 10.
Hexadecimal [24-Bits]



      00B2A9 FE F0            [ 7]  496 	CP	#0xF0		;
      00B2AB D2 60 B4         [10]  497 	JP	NC,FMSUBA	; DATA �� ����� �� FMSUBA �
                                    498 
      00B2AE 07               [ 4]  499 	RLCA
      00B2AF CB 3F            [ 8]  500 	SRL	A		; GET CY=7TH BIT (���� �׸�) : A=LENGTH
      00B2B1 DD 77 00         [19]  501 	LD	(IX),A		; SET WAIT COUNTER
      00B2B4 D2 CD B2         [10]  502 	JP	NC,FMSUB5	; ���� �� FMSUB5 �
                                    503 
                                    504 ; **	SET F-NUMBER	**
                                    505 
      00B2B7                        506 FMSUB3:
      00B2B7 DD 74 03         [19]  507 	LD	3(IX),H
      00B2BA DD 75 02         [19]  508 	LD 	2(IX),L	; SET NEXT SOUND DATA ADD
      00B2BD DD CB 21 66      [20]  509 	BIT	4,33(IX)
      00B2C1 20 06            [12]  510 	JR	NZ,FS3
      00B2C3 DD CB 21 6E      [20]  511 	BIT	5,33(IX)
      00B2C7 20 A5            [12]  512 	JR	NZ,FS2
      00B2C9                        513 FS3:
      00B2C9 CD DD B3         [17]  514 	CALL	KEYOFF
      00B2CC C9               [10]  515 	RET
                                    516 
      00B2CD                        517 FMSUB5:
      00B2CD DD CB 1F 76      [20]  518 	BIT	6,31(IX)
      00B2D1 C4 DD B3         [17]  519 	CALL	NZ,KEYOFF
                                    520 	
      00B2D4 3A A7 B1         [13]  521 	LD	A,(PLSET1+1)
      00B2D7 FE 78            [ 7]  522 	CP	#0x78
      00B2D9 20 0E            [12]  523 	JR	NZ,FMSUB4
                                    524 	
      00B2DB 3A 7F BE         [13]  525 	LD	A,(FMPORT)
      00B2DE B7               [ 4]  526 	OR	A
      00B2DF 20 08            [12]  527 	JR	NZ,FMSUB4
      00B2E1 DD 7E 08         [19]  528 	LD	A,8(IX)
      00B2E4 FE 02            [ 7]  529 	CP	#2		; CH=3?
      00B2E6 CA A6 B3         [10]  530 	JP	Z,EXMODE
      00B2E9                        531 FMSUB4:
      00B2E9 7E               [ 7]  532 	LD	A,(HL)		; A=BLOCK( OCTAVE-1 ) & KEY CODE DATA
      00B2EA 23               [ 6]  533 	INC	HL
      00B2EB DD 74 03         [19]  534 	LD	3(IX),H
      00B2EE DD 75 02         [19]  535 	LD	2(IX),L	; SET NEXT SOUND DATA ADD
                                    536 
      00B2F1 47               [ 4]  537 	LD	B,A		; STORE
      00B2F2 DD CB 1F 76      [20]  538 	BIT	6,31(IX)	; CHECK KEYOFF FLAG
      00B2F6 20 08            [12]  539 	JR	NZ,FMSUB9
                                    540 
      00B2F8 DD 7E 20         [19]  541 	LD	A,32(IX)	; GET BEFORE CODE DATA
      00B2FB 90               [ 4]  542 	SUB	B
      00B2FC 20 02            [12]  543 	JR	NZ,FMSUB9
      00B2FE 37               [ 4]  544 	SCF
      00B2FF C9               [10]  545 	RET
      00B300                        546 FMSUB9:
      00B300 78               [ 4]  547 	LD	A,B
      00B301 DD 77 20         [19]  548 	LD	32(IX),A
      00B304 3A 79 C0         [13]  549 	LD	A,(PCMFLG)
      00B307 B7               [ 4]  550 	OR	A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 11.
Hexadecimal [24-Bits]



      00B308 20 0F            [12]  551 	JR	NZ,PCMGFQ
      00B30A 3A 7D BE         [13]  552 	LD	A,(DRMF1)
      00B30D B7               [ 4]  553 	OR	A
      00B30E 28 44            [12]  554 	JR	Z,FMGFQ
      00B310                        555 DRMFQ:
      00B310 DD CB 1F 76      [20]  556 	BIT	6,31(IX)
      00B314 C8               [11]  557 	RET	Z
      00B315 CD 20 B4         [17]  558 	CALL	DKEYON
      00B318 C9               [10]  559 	RET
      00B319                        560 PCMGFQ:
      00B319 78               [ 4]  561 	LD	A,B
      00B31A E6 0F            [ 7]  562 	AND	#0b00001111
      00B31C 21 B1 C0         [10]  563 	LD	HL,#PCMNMB
      00B31F 87               [ 4]  564 	ADD	A,A
      00B320 5F               [ 4]  565 	LD	E,A
      00B321 16 00            [ 7]  566 	LD	D,#0
      00B323 19               [11]  567 	ADD	HL,DE
      00B324 7E               [ 7]  568 	LD	A,(HL)
      00B325 23               [ 6]  569 	INC	HL
      00B326 66               [ 7]  570 	LD	H,(HL)
      00B327 6F               [ 4]  571 	LD	L,A
      00B328 DD 5E 09         [19]  572 	LD	E,9(IX)
      00B32B DD 56 0A         [19]  573 	LD	D,10(IX)
      00B32E 19               [11]  574 	ADD	HL,DE
                                    575 	
      00B32F 78               [ 4]  576 	LD	A,B
      00B330 E6 F0            [ 7]  577 	AND	#0b11110000
      00B332 0F               [ 4]  578 	RRCA
      00B333 0F               [ 4]  579 	RRCA
      00B334 0F               [ 4]  580 	RRCA
      00B335 0F               [ 4]  581 	RRCA
      00B336 47               [ 4]  582 	LD	B,A
      00B337 05               [ 4]  583 	DEC	B
      00B338 04               [ 4]  584 	INC	B
      00B339 28 06            [12]  585 	JR	Z,ASUB72
      00B33B                        586 ASUB7:
      00B33B CB 3C            [ 8]  587 	SRL	H
      00B33D CB 1D            [ 8]  588 	RR	L
      00B33F 10 FA            [13]  589 	DJNZ	ASUB7
      00B341                        590 ASUB72:
      00B341 22 76 C0         [16]  591 	LD	(DELT_N),HL
      00B344 DD CB 1F 76      [20]  592 	BIT	6,31(IX)
      00B348 20 03            [12]  593 	JR	NZ,AS72
      00B34A CD 52 B9         [17]  594 	CALL	LFORST
      00B34D                        595 AS72:
      00B34D CD 5D B9         [17]  596 	CALL	LFORST2
      00B350 CD 98 BD         [17]  597 	CALL	PLAY
      00B353 C9               [10]  598 	RET
      00B354                        599 FMGFQ:
      00B354 78               [ 4]  600 	LD	A,B
      00B355 4F               [ 4]  601 	LD 	C,A		; STORE
      00B356 E6 70            [ 7]  602 	AND 	#0x70		; GET BLOCK DATA
      00B358 CB 3F            [ 8]  603 	SRL	A		; A4-A6 �߰� ���خ�ֳ � �ܾ�
      00B35A 47               [ 4]  604 	LD 	B,A
                                    605 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 12.
Hexadecimal [24-Bits]



      00B35B 79               [ 4]  606 	LD	A,C		; RESTORE A
      00B35C E6 0F            [ 7]  607 	AND	#0x0F		; GET KEY CODE (C,C+,D ... B)
                                    608 
      00B35E 87               [ 4]  609 	ADD	A,A
      00B35F 5F               [ 4]  610 	LD	E,A
      00B360 16 00            [ 7]  611 	LD	D,#0
      00B362 21 81 C0         [10]  612 	LD	HL,#FNUMB
      00B365 19               [11]  613 	ADD	HL,DE
                                    614 
      00B366 4E               [ 7]  615 	LD	C,(HL)
      00B367 23               [ 6]  616 	INC	HL
      00B368 7E               [ 7]  617 	LD	A,(HL)		; GET FNUM2
      00B369 B0               [ 4]  618 	OR	B		; A= KEY CODE & FNUM HI
                                    619 
      00B36A 69               [ 4]  620 	LD	L,C
      00B36B 67               [ 4]  621 	LD	H,A
      00B36C DD 56 0A         [19]  622 	LD	D,10(IX)	;
      00B36F DD 5E 09         [19]  623 	LD	E,9(IX)	; GET DETUNE DATA
      00B372 19               [11]  624 	ADD	HL,DE		; DETUNE PLUS
      00B373 DD CB 21 76      [20]  625 	BIT	6,33(IX)
      00B377 20 09            [12]  626 	JR	NZ,FMS92
      00B379 DD 75 1D         [19]  627 	LD	29(IX),L	; FOR LFO
      00B37C DD 74 1E         [19]  628 	LD	30(IX),H	; FOR LFO
                                    629 	
      00B37F 22 80 BE         [16]  630 	LD	(FNUM),HL
      00B382                        631 FMS92:
      00B382 DD CB 1F 76      [20]  632 	BIT	6,31(IX)
      00B386 C4 52 B9         [17]  633 	CALL	NZ,LFORST
      00B389 CD 5D B9         [17]  634 	CALL	LFORST2
      00B38C                        635 FMSUB8:
      00B38C 01 00 00         [10]  636 	LD	BC,#0
      00B38F                        637 FMSUB6:
      00B38F 09               [11]  638 	ADD	HL,BC		; BLOCK/FNUM1&2 DETUNE PLUS (for SE MODE)
      00B390 5C               [ 4]  639 	LD	E,H		; BLOCK/F-NUMBER2 DATA
      00B391                        640 FPORT:
      00B391 3E A4            [ 7]  641 	LD	A,#0xA4		; PORT A4H
      00B393 DD 86 08         [19]  642 	ADD	A,8(IX)
      00B396 57               [ 4]  643 	LD	D,A
      00B397 CD 3F B4         [17]  644 	CALL	PSGOUT
                                    645 
      00B39A D6 04            [ 7]  646 	SUB	#4
      00B39C 57               [ 4]  647 	LD	D,A
      00B39D 5D               [ 4]  648 	LD	E,L		; F-NUMBER1 DATA
      00B39E                        649 FMSUB7:
      00B39E CD 3F B4         [17]  650 	CALL	PSGOUT
      00B3A1 CD 05 B4         [17]  651 	CALL	KEYON
      00B3A4 A7               [ 4]  652         AND	A
      00B3A5 C9               [10]  653 	RET
                                    654 
                                    655 ; **	SE MODE � DETUNE ��ò	**
                                    656 
      00B3A6                        657 EXMODE:
      00B3A6 ED 4B 5B C0      [20]  658 	LD	BC,(DETDAT)
      00B3AA 06 00            [ 7]  659 	LD	B,#0
      00B3AC ED 43 8D B3      [20]  660 	LD	(FMSUB8+1),BC
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 13.
Hexadecimal [24-Bits]



      00B3B0 CD E9 B2         [17]  661 	CALL	FMSUB4		; SET OP1
      00B3B3 D8               [11]  662 	RET	C
                                    663 
      00B3B4 21 5C C0         [10]  664 	LD	HL,#DETDAT+1
      00B3B7 3E AA            [ 7]  665 	LD	A,#0xAA		;  A = CH3 F-NUM2 OP1 PORT - 2
      00B3B9                        666 EXMLP:
      00B3B9 32 92 B3         [13]  667 	LD	(FPORT+1),A
      00B3BC 3C               [ 4]  668 	INC	A
      00B3BD F5               [11]  669 	PUSH	AF
      00B3BE 4E               [ 7]  670 	LD	C,(HL)
      00B3BF 06 00            [ 7]  671 	LD	B,#0
      00B3C1 23               [ 6]  672 	INC	HL
      00B3C2 E5               [11]  673 	PUSH	HL
      00B3C3                        674 HLSTC0:
      00B3C3 2A 80 BE         [16]  675 	LD	HL,(FNUM)
      00B3C6 CD 8F B3         [17]  676 	CALL	FMSUB6		; SET OP2-OP4
                                    677 
      00B3C9 E1               [10]  678 	POP	HL
      00B3CA F1               [10]  679 	POP	AF
      00B3CB FE AD            [ 7]  680 	CP	#0xAD		; END PORT+1
      00B3CD C2 B9 B3         [10]  681 	JP 	NZ,EXMLP
                                    682 
      00B3D0 3E A4            [ 7]  683 	LD	A,#0xA4
      00B3D2 32 92 B3         [13]  684 	LD	(FPORT+1),A
      00B3D5                        685 BRESET:
      00B3D5 01 00 00         [10]  686 	LD	BC,#0
      00B3D8 ED 43 8D B3      [20]  687 	LD	(FMSUB8+1),BC
      00B3DC C9               [10]  688 	RET			;  RET TO MAIN
                                    689 
                                    690 ; **	KEY-OFF ROUTINE		**
                                    691 
      00B3DD                        692 KEYOFF:
      00B3DD 3A 79 C0         [13]  693 	LD	A,(PCMFLG)
      00B3E0 B7               [ 4]  694 	OR	A
      00B3E1 C2 93 BC         [10]  695 	JP	NZ,PCMEND
      00B3E4 3A 7D BE         [13]  696 	LD	A,(DRMF1)
      00B3E7 B7               [ 4]  697 	OR	A
      00B3E8 20 0D            [12]  698 	JR	NZ,DKEYOF
      00B3EA 3A 7F BE         [13]  699 	LD	A,(FMPORT)
      00B3ED DD 86 08         [19]  700 	ADD	A,8(IX)
      00B3F0 5F               [ 4]  701 	LD	E,A
      00B3F1 16 28            [ 7]  702 	LD	D,#0x28		;  PORT 28H
      00B3F3 CD 3F B4         [17]  703 	CALL	PSGOUT		;  KEY-OFF
      00B3F6 C9               [10]  704 	RET
                                    705 	
                                    706 ; --	ؽ�� �ݹ�� � ����	--
                                    707 	
      00B3F7                        708 DKEYOF:
      00B3F7 16 10            [ 7]  709 	LD	D,#0x10
      00B3F9 3A 48 C0         [13]  710 	LD	A,(RHYTHM)	; GET RETHM PARAMETER
      00B3FC E6 3F            [ 7]  711 	AND	#0b00111111
      00B3FE F6 80            [ 7]  712 	OR	#0x80
      00B400 5F               [ 4]  713 	LD	E,A
      00B401 CD 3F B4         [17]  714 	CALL	PSGOUT
      00B404 C9               [10]  715 	RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 14.
Hexadecimal [24-Bits]



                                    716 
                                    717 ; **	KEY-ON  ROUTINE   **
                                    718 
      00B405                        719 KEYON:
      00B405 3A 7F BE         [13]  720 	LD	A,(FMPORT)
      00B408 B7               [ 4]  721 	OR	A
      00B409 3E F0            [ 7]  722 	LD	A,#0xF0
      00B40B 28 02            [12]  723 	JR	Z,KEYON2
      00B40D 3E F4            [ 7]  724 	LD	A,#0xF4
      00B40F                        725 KEYON2:
      00B40F DD 86 08         [19]  726 	ADD	A,8(IX)
      00B412 5F               [ 4]  727 	LD	E,A
      00B413 16 28            [ 7]  728 	LD	D,#0x28
      00B415 CD 3F B4         [17]  729 	CALL	PSGOUT		;  KEY-ON
      00B418 DD CB 21 6E      [20]  730 	BIT	5,33(IX)
      00B41C C4 D4 B7         [17]  731 	CALL	NZ,STVOL
      00B41F C9               [10]  732 	RET
                                    733 	
                                    734 ; **   ؽ�� �ݹ�� � ����   **
                                    735 	
      00B420                        736 DKEYON:
      00B420 16 10            [ 7]  737 	LD	D,#0x10
      00B422 3A 48 C0         [13]  738 	LD	A,(RHYTHM)	; GET RETHM PARAMETER
      00B425 E6 3F            [ 7]  739 	AND	#0b00111111
      00B427 5F               [ 4]  740 	LD	E,A		; KEY ON
      00B428 CD 3F B4         [17]  741 	CALL	PSGOUT
      00B42B C9               [10]  742 	RET
                                    743 
                                    744 ; **	ALL KEY-OFF ROUTINE   **
                                    745 
      00B42C                        746 AKYOFF:
      00B42C F5               [11]  747 	PUSH	AF
      00B42D C5               [11]  748 	PUSH	BC
      00B42E D5               [11]  749 	PUSH	DE
                                    750 	
      00B42F 1E 00            [ 7]  751 	LD	E,#0
      00B431 16 28            [ 7]  752 	LD	D,#0x28
      00B433 06 07            [ 7]  753 	LD	B,#7
      00B435                        754 AKYOF2:
      00B435 CD 3F B4         [17]  755 	CALL	PSGOUT
      00B438 1C               [ 4]  756 	INC	E
      00B439 10 FA            [13]  757 	DJNZ	AKYOF2
                                    758 	
      00B43B D1               [10]  759 	POP	DE
      00B43C C1               [10]  760 	POP	BC
      00B43D F1               [10]  761 	POP	AF
      00B43E C9               [10]  762 	RET
                                    763 
                                    764 ; **	FM DATA OUT ROUTINE	**
                                    765 ;
                                    766 ; ENTRY: D<= REGISTER No.
                                    767 ;	 E<= DATA
                                    768 
      00B43F                        769 PSGOUT:
      00B43F F5               [11]  770 	PUSH	AF
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 15.
Hexadecimal [24-Bits]



      00B440 C5               [11]  771 	PUSH	BC
      00B441 E5               [11]  772 	PUSH	HL
                                    773 	
                                    774 	
      00B442 3A 77 BE         [13]  775 	LD	A,(PORT13)
      00B445 4F               [ 4]  776 	LD	C,A
                                    777 	
      00B446 7A               [ 4]  778 	LD	A,D
      00B447 FE 30            [ 7]  779 	CP	#0x30
      00B449 38 0A            [12]  780 	JR	C,PSGO4
      00B44B 3A 7F BE         [13]  781 	LD	A,(FMPORT)
      00B44E A7               [ 4]  782 	AND	A
      00B44F 28 04            [12]  783 	JR	Z,PSGO4
                                    784 	
      00B451 3A 78 BE         [13]  785 	LD	A,(PORT13+1)
      00B454 4F               [ 4]  786 	LD	C,A
      00B455                        787 PSGO4:
      00B455 ED 51            [12]  788 	OUT	(C),D
      00B457 C5               [11]  789 	PUSH	BC
      00B458 C1               [10]  790 	POP	BC
      00B459 03               [ 6]  791 	INC	BC
      00B45A ED 59            [12]  792 	OUT	(C),E
                                    793 	
      00B45C                        794 PSGOE:
      00B45C E1               [10]  795 	POP	HL
      00B45D C1               [10]  796 	POP	BC
      00B45E F1               [10]  797 	POP	AF
      00B45F C9               [10]  798 	RET
                                    799 
                                    800 
                                    801 ; **	��ޥ����� � ��ò	**
                                    802 
      00B460                        803 FMSUBA:
      00B460 E6 0F            [ 7]  804 	AND	#0x0F		; A=COMMAND No.(0-F)
      00B462 11 93 B2         [10]  805 	LD	DE,#FMSUBC
      00B465 D5               [11]  806 	PUSH	DE		; STORE RETURN ADDRES
      00B466 11 73 B4         [10]  807 	LD	DE,#FMCOM
      00B469 47               [ 4]  808 	LD	B,A
      00B46A 87               [ 4]  809 	ADD	A,A
      00B46B 80               [ 4]  810 	ADD	A,B		; A*3
      00B46C 83               [ 4]  811 	ADD	A,E
      00B46D 5F               [ 4]  812 	LD	E,A
      00B46E 8A               [ 4]  813 	ADC	A,D
      00B46F 93               [ 4]  814 	SUB	E
      00B470 57               [ 4]  815 	LD	D,A		; DE+A*3
      00B471 D5               [11]  816 	PUSH	DE
      00B472 C9               [10]  817 	RET
                                    818 
                                    819 ; **	FM CONTROL COMMAND(s)   **
                                    820 
      00B473                        821 FMCOM:
      00B473 C3 4E B6         [10]  822 	JP	OTOPST		; F0-�ݼ�� ���    '@'
      00B476 C3 9D B6         [10]  823 	JP	VOLPST		; F1-VOLUME SET   'v'
      00B479 C3 01 B7         [10]  824 	JP	FRQ_DF		; F2-DETUNE(���ʽ� ��׼) 'D'
      00B47C C3 48 B6         [10]  825 	JP	SETQ		; F3-SET COMMAND 'q'
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 16.
Hexadecimal [24-Bits]



      00B47F C3 B2 B5         [10]  826 	JP	LFOON		; F4-LFO SET
      00B482 C3 4C B7         [10]  827 	JP	REPSTF		; F5-REPEAT START SET  '['
      00B485 C3 59 B7         [10]  828 	JP	REPENF		; F6-REPEAT END SET    ']'
      00B488 C3 74 B5         [10]  829 	JP	MDSET		; F7-FM�ݹ�� Ӱ�޾��
      00B48B C3 03 B5         [10]  830 	JP	STEREO		; F8-STEREO MODE
      00B48E C3 D1 B4         [10]  831 	JP	FLGSET		; F9-FLAG SET
      00B491 C3 34 BB         [10]  832 	JP	W_REG		; FA-COMMAND OF   'y'
      00B494 C3 5C B5         [10]  833 	JP	VOLUPF		; FB-VOLUME UP    ')'
      00B497 C3 80 B5         [10]  834     JP	HLFOON		; FC-HARD LFO
      00B49A C3 CC B4         [10]  835 	JP	TIE		; (CANT USE)
      00B49D C3 36 B7         [10]  836 	JP	RSKIP		; FE-REPEAT JUMP'/'
      00B4A0 C3 BB B4         [10]  837 	JP	SECPRC		; FF-to second com
                                    838 	
      00B4A3                        839 FMCOM2:
      00B4A3 C3 FD B4         [10]  840 	JP	PVMCHG		;FFF0-PCM VOLUME MODE
      00B4A6 C3 14 BB         [10]  841 	JP	HRDENV		;FFF1-HARD ENVE SET 's'
      00B4A9 C3 26 BB         [10]  842 	JP	ENVPOD		;FFF2-HARD ENVE PERIOD
      00B4AC C3 D7 B4         [10]  843 	JP	REVERVE		;FFF3-��ް��
      00B4AF C3 EE B4         [10]  844 	JP	REVMOD		;FFF4-��ް��Ӱ��
      00B4B2 C3 E1 B4         [10]  845 	JP	REVSW		;FFF5-��ް�� ����
      00B4B5 C3 CB B4         [10]  846 	JP	NTMEAN
      00B4B8 C3 CB B4         [10]  847 	JP	NTMEAN
                                    848 	
      00B4BB                        849 SECPRC:
      00B4BB 7E               [ 7]  850 	LD	A,(HL)
      00B4BC 23               [ 6]  851 	INC	HL
      00B4BD E6 0F            [ 7]  852 	AND	#0x0F		; A=COMMAND No.(0-F)
      00B4BF 11 A3 B4         [10]  853 	LD	DE,#FMCOM2
      00B4C2 47               [ 4]  854 	LD	B,A
      00B4C3 87               [ 4]  855 	ADD	A,A
      00B4C4 80               [ 4]  856 	ADD	A,B
      00B4C5 83               [ 4]  857 	ADD	A,E
      00B4C6 5F               [ 4]  858 	LD	E,A
      00B4C7 8A               [ 4]  859 	ADC	A,D
      00B4C8 93               [ 4]  860 	SUB	E
      00B4C9 57               [ 4]  861 	LD	D,A
      00B4CA D5               [11]  862 	PUSH	DE
                                    863 	
      00B4CB                        864 NTMEAN:
      00B4CB C9               [10]  865 	RET
                                    866 	
      00B4CC                        867 TIE:
      00B4CC DD CB 1F B6      [23]  868 	RES	6,31(IX)
      00B4D0 C9               [10]  869 	RET
                                    870 	
                                    871 ; **	�׸޾��	**
                                    872 	
      00B4D1                        873 FLGSET:
      00B4D1 7E               [ 7]  874 	LD	A,(HL)
      00B4D2 23               [ 6]  875 	INC	HL
      00B4D3 32 0F B0         [13]  876 	LD	(FLGADR),A
      00B4D6 C9               [10]  877 	RET
                                    878 	
                                    879 ; **	��ް��	**
                                    880 	
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 17.
Hexadecimal [24-Bits]



      00B4D7                        881 REVERVE:
      00B4D7 7E               [ 7]  882 	LD	A,(HL)
      00B4D8 23               [ 6]  883 	INC	HL
      00B4D9 DD 77 11         [19]  884 	LD	17(IX),A
      00B4DC                        885 RV1:
      00B4DC DD CB 21 EE      [23]  886 	SET	5,33(IX)
      00B4E0 C9               [10]  887         RET
      00B4E1                        888 REVSW:
      00B4E1 7E               [ 7]  889 	LD	A,(HL)
      00B4E2 23               [ 6]  890 	INC	HL
      00B4E3 B7               [ 4]  891 	OR	A
      00B4E4 20 F6            [12]  892 	JR	NZ,RV1
      00B4E6 DD CB 21 AE      [23]  893 	RES	5,33(IX)
      00B4EA CD D4 B7         [17]  894 	CALL	STVOL
      00B4ED C9               [10]  895 	RET
      00B4EE                        896 REVMOD:
      00B4EE 7E               [ 7]  897 	LD	A,(HL)
      00B4EF 23               [ 6]  898 	INC	HL
      00B4F0 B7               [ 4]  899 	OR	A
      00B4F1 28 05            [12]  900 	JR	Z,RM2
      00B4F3 DD CB 21 E6      [23]  901 	SET	4,33(IX)
      00B4F7 C9               [10]  902 	RET
      00B4F8                        903 RM2:
      00B4F8 DD CB 21 A6      [23]  904 	RES	4,33(IX)
      00B4FC C9               [10]  905 	RET
                                    906 	
                                    907 ; **	PCM VMODE CHANGE	**
                                    908 	
      00B4FD                        909 PVMCHG:
      00B4FD 7E               [ 7]  910 	LD	A,(HL)
      00B4FE 23               [ 6]  911 	INC	HL
      00B4FF 32 74 BE         [13]  912 	LD	(PVMODE),A
      00B502 C9               [10]  913 	RET
                                    914 	
                                    915 ; **	STEREO	**
                                    916 	
      00B503                        917 STEREO:
      00B503 3A 7D BE         [13]  918 	LD	A,(DRMF1)
      00B506 B7               [ 4]  919 	OR	A
      00B507 20 2F            [12]  920 	JR	NZ,STE2
      00B509 3A 79 C0         [13]  921 	LD	A,(PCMFLG)
      00B50C B7               [ 4]  922 	OR	A
      00B50D 28 06            [12]  923 	JR	Z,STER2
      00B50F 7E               [ 7]  924 	LD	A,(HL)
      00B510 23               [ 6]  925 	INC	HL
      00B511 32 A5 BE         [13]  926 	LD	(PCMLR),A
      00B514 C9               [10]  927 	RET
      00B515                        928 STER2:
      00B515 7E               [ 7]  929 	LD	A,(HL)
      00B516 23               [ 6]  930 	INC	HL
      00B517 0F               [ 4]  931 	RRCA
      00B518 0F               [ 4]  932 	RRCA
      00B519 4F               [ 4]  933 	LD	C,A
      00B51A 11 9E BE         [10]  934 	LD	DE,#PALDAT
      00B51D 3A 7F BE         [13]  935 	LD	A,(FMPORT)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 18.
Hexadecimal [24-Bits]



      00B520 DD 86 08         [19]  936 	ADD	A,8(IX)
      00B523 83               [ 4]  937 	ADD	A,E
      00B524 5F               [ 4]  938 	LD	E,A
      00B525 8A               [ 4]  939 	ADC	A,D
      00B526 93               [ 4]  940 	SUB	E
      00B527 57               [ 4]  941 	LD	D,A
      00B528 1A               [ 7]  942 	LD	A,(DE)
      00B529 E6 3F            [ 7]  943 	AND	#0b00111111
      00B52B B1               [ 4]  944 	OR	C
      00B52C 12               [ 7]  945 	LD	(DE),A
                                    946 	
      00B52D 5F               [ 4]  947 	LD	E,A
      00B52E 3E B4            [ 7]  948 	LD	A,#0xB4
      00B530 DD 86 08         [19]  949 	ADD	A,8(IX)
      00B533 57               [ 4]  950 	LD	D,A
      00B534 CD 3F B4         [17]  951 	CALL	PSGOUT
      00B537 C9               [10]  952 	RET
      00B538                        953 STE2:
      00B538 7E               [ 7]  954 	LD	A,(HL)
      00B539 23               [ 6]  955 	INC	HL
      00B53A 4F               [ 4]  956 	LD	C,A
      00B53B E6 0F            [ 7]  957 	AND	#0b00001111
      00B53D 47               [ 4]  958 	LD	B,A
      00B53E 11 5F C0         [10]  959 	LD	DE,#DRMVOL
      00B541 83               [ 4]  960 	ADD	A,E
      00B542 5F               [ 4]  961 	LD	E,A
      00B543 8A               [ 4]  962 	ADC	A,D
      00B544 93               [ 4]  963 	SUB	E
      00B545 57               [ 4]  964 	LD	D,A
      00B546 1A               [ 7]  965 	LD	A,(DE)
      00B547 D5               [11]  966 	PUSH	DE
      00B548 E6 1F            [ 7]  967 	AND	#0b00011111
      00B54A 5F               [ 4]  968 	LD	E,A
      00B54B 79               [ 4]  969 	LD	A,C
      00B54C 07               [ 4]  970 	RLCA
      00B54D 07               [ 4]  971 	RLCA
      00B54E E6 C0            [ 7]  972 	AND	#0b11000000
      00B550 B3               [ 4]  973 	OR	E
      00B551 D1               [10]  974 	POP	DE
      00B552 12               [ 7]  975 	LD	(DE),A
      00B553 5F               [ 4]  976 	LD	E,A
      00B554 78               [ 4]  977 	LD	A,B
      00B555 C6 18            [ 7]  978 	ADD	A,#0x18
      00B557 57               [ 4]  979 	LD	D,A
      00B558 CD 3F B4         [17]  980 	CALL	PSGOUT
      00B55B C9               [10]  981 	RET
                                    982 	
                                    983 	
                                    984 ; **	VOLUME UP & DOWN	**
                                    985 	
      00B55C                        986 VOLUPF:
      00B55C 7E               [ 7]  987 	LD	A,(HL)
      00B55D 23               [ 6]  988 	INC	HL
      00B55E DD 86 06         [19]  989 	ADD	A,6(IX)
      00B561 DD 77 06         [19]  990 	LD	6(IX),A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 19.
Hexadecimal [24-Bits]



      00B564 3A 79 C0         [13]  991 	LD	A,(PCMFLG)
      00B567 B7               [ 4]  992 	OR	A
      00B568 C0               [11]  993 	RET	NZ
      00B569 3A 7D BE         [13]  994 	LD	A,(DRMF1)
      00B56C B7               [ 4]  995 	OR	A
      00B56D C2 E9 B6         [10]  996 	JP	NZ,DVOLSET
      00B570 CD D4 B7         [17]  997 	CALL	STVOL
      00B573 C9               [10]  998 	RET
                                    999 	
                                   1000 ; **	SE DETUNE SET SUB ROUTINE	**
                                   1001 
      00B574                       1002 MDSET:
      00B574 CD 8F BD         [17] 1003 	CALL	TO_EFC
      00B577 11 5B C0         [10] 1004 	LD	DE,#DETDAT
      00B57A 01 04 00         [10] 1005 	LD	BC,#4
      00B57D ED B0            [21] 1006 	LDIR
      00B57F C9               [10] 1007 	RET
                                   1008 
                                   1009 ; **	HARD LFO SET	**
                                   1010 	
      00B580                       1011 HLFOON:
      00B580 7E               [ 7] 1012 	LD	A,(HL)	; FREQ CONT
      00B581 23               [ 6] 1013 	INC	HL
      00B582 F6 08            [ 7] 1014 	OR	#0b00001000
      00B584 5F               [ 4] 1015 	LD	E,A
      00B585 16 22            [ 7] 1016 	LD	D,#0x22
      00B587 CD 3F B4         [17] 1017 	CALL	PSGOUT
                                   1018 	
      00B58A 4E               [ 7] 1019 	LD	C,(HL)	; PMS
      00B58B 23               [ 6] 1020 	INC	HL
      00B58C 7E               [ 7] 1021 	LD	A,(HL)	; AMS
      00B58D 23               [ 6] 1022 	INC	HL
      00B58E 07               [ 4] 1023 	RLCA
      00B58F 07               [ 4] 1024 	RLCA
      00B590 07               [ 4] 1025 	RLCA
      00B591 07               [ 4] 1026 	RLCA
      00B592 B1               [ 4] 1027 	OR	C
      00B593 4F               [ 4] 1028 	LD	C,A	; AMS+PMS
                                   1029 	
      00B594 3A 7F BE         [13] 1030 	LD	A,(FMPORT)
      00B597 DD 86 08         [19] 1031 	ADD	A,8(IX)
      00B59A 11 9E BE         [10] 1032 	LD	DE,#PALDAT
      00B59D 83               [ 4] 1033 	ADD	A,E
      00B59E 5F               [ 4] 1034 	LD	E,A
      00B59F 8A               [ 4] 1035 	ADC	A,D
      00B5A0 93               [ 4] 1036 	SUB	E
      00B5A1 57               [ 4] 1037 	LD	D,A
      00B5A2 1A               [ 7] 1038 	LD	A,(DE)
      00B5A3 E6 C0            [ 7] 1039 	AND	#0b11000000
      00B5A5 B1               [ 4] 1040 	OR	C
      00B5A6 12               [ 7] 1041 	LD	(DE),A
                                   1042 	
      00B5A7 5F               [ 4] 1043 	LD	E,A
      00B5A8 3E B4            [ 7] 1044 	LD	A,#0xB4
      00B5AA DD 86 08         [19] 1045 	ADD	A,8(IX)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 20.
Hexadecimal [24-Bits]



      00B5AD 57               [ 4] 1046 	LD	D,A
      00B5AE CD 3F B4         [17] 1047 	CALL	PSGOUT
      00B5B1 C9               [10] 1048 	RET
                                   1049 	
                                   1050 ; **	SOFT LFO SET(RESET)	**
                                   1051 
      00B5B2                       1052 LFOON:
      00B5B2 7E               [ 7] 1053 	LD	A,(HL)		; GET SUB COMMAND
      00B5B3 23               [ 6] 1054 	INC	HL
                                   1055 	
      00B5B4 B7               [ 4] 1056 	OR	A
      00B5B5 C2 C9 B5         [10] 1057 	JP	NZ,LFOON3
                                   1058 	
      00B5B8 CD EC B5         [17] 1059 	CALL	SETDEL
      00B5BB CD F5 B5         [17] 1060 	CALL	SETCO
      00B5BE CD FE B5         [17] 1061 	CALL	SETVCT
      00B5C1 CD 15 B6         [17] 1062 	CALL	SETPEK
                                   1063 	
      00B5C4 DD CB 1F FE      [23] 1064 	SET	7,31(IX)	;  SET LFO FLAG
      00B5C8 C9               [10] 1065 	RET
                                   1066 	
      00B5C9                       1067 LFOON3:
      00B5C9 3D               [ 4] 1068 	DEC	A
      00B5CA 4F               [ 4] 1069 	LD	C,A
      00B5CB 87               [ 4] 1070 	ADD	A,A
      00B5CC 81               [ 4] 1071 	ADD	A,C
      00B5CD 11 D7 B5         [10] 1072 	LD	DE,#LFOTBL
                                   1073 	
      00B5D0 83               [ 4] 1074 	ADD	A,E
      00B5D1 5F               [ 4] 1075 	LD	E,A
      00B5D2 8A               [ 4] 1076 	ADC	A,D
      00B5D3 93               [ 4] 1077 	SUB	E
      00B5D4 57               [ 4] 1078 	LD	D,A
                                   1079 	
      00B5D5 D5               [11] 1080 	PUSH	DE
      00B5D6 C9               [10] 1081 	RET
                                   1082 	
      00B5D7                       1083 LFOTBL:
      00B5D7 C3 25 B6         [10] 1084 	JP	LFOOFF
      00B5DA C3 20 B6         [10] 1085 	JP	LFOON2
      00B5DD C3 EC B5         [10] 1086 	JP	SETDEL
      00B5E0 C3 F5 B5         [10] 1087 	JP	SETCO
      00B5E3 C3 0F B6         [10] 1088 	JP	SETVC2
      00B5E6 C3 15 B6         [10] 1089 	JP	SETPEK
      00B5E9 C3 2A B6         [10] 1090 	JP	TLLFO
      00B5EC                       1091 SETDEL:
      00B5EC 7E               [ 7] 1092 	LD	A,(HL)
      00B5ED 23               [ 6] 1093 	INC	HL
      00B5EE DD 77 13         [19] 1094 	LD 	19(IX),A	; SET DELAY
      00B5F1 DD 77 14         [19] 1095 	LD	20(IX),A
      00B5F4 C9               [10] 1096 	RET
      00B5F5                       1097 SETCO:
      00B5F5 7E               [ 7] 1098 	LD	A,(HL)
      00B5F6 23               [ 6] 1099 	INC	HL
      00B5F7 DD 77 15         [19] 1100 	LD	21(IX),A	; SET COUNTER
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 21.
Hexadecimal [24-Bits]



      00B5FA DD 77 16         [19] 1101 	LD	22(IX),A
      00B5FD C9               [10] 1102 	RET
      00B5FE                       1103 SETVCT:
      00B5FE 5E               [ 7] 1104 	LD	E,(HL)
      00B5FF 23               [ 6] 1105 	INC	HL
      00B600 56               [ 7] 1106 	LD	D,(HL)
      00B601 23               [ 6] 1107 	INC	HL
      00B602 DD 73 17         [19] 1108 	LD	23(IX),E	; SET �ݶخ�
      00B605 DD 73 19         [19] 1109 	LD	25(IX),E
      00B608 DD 72 18         [19] 1110 	LD	24(IX),D
      00B60B DD 72 1A         [19] 1111 	LD	26(IX),D
      00B60E C9               [10] 1112 	RET
      00B60F                       1113 SETVC2:
      00B60F CD FE B5         [17] 1114 	CALL	SETVCT
      00B612 C3 52 B9         [10] 1115 	JP	LFORST
      00B615                       1116 SETPEK:
      00B615 7E               [ 7] 1117 	LD	A,(HL)
      00B616 23               [ 6] 1118 	INC	HL
      00B617 DD 77 1B         [19] 1119 	LD	27(IX),A	; SET PEAK LEVEL
      00B61A CB 3F            [ 8] 1120 	SRL	A
      00B61C DD 77 1C         [19] 1121 	LD	28(IX),A
      00B61F C9               [10] 1122 	RET
                                   1123 	
      00B620                       1124 LFOON2:
      00B620 DD CB 1F FE      [23] 1125 	SET	7,31(IX)	; LFOON
      00B624 C9               [10] 1126         RET
      00B625                       1127 LFOOFF:
      00B625 DD CB 1F BE      [23] 1128 	RES	7,31(IX)	; RESET LFO
      00B629 C9               [10] 1129 	RET
                                   1130 	
      00B62A                       1131 TLLFO:
      00B62A 7E               [ 7] 1132 	LD	A,(HL)
      00B62B 23               [ 6] 1133 	INC	HL
      00B62C B7               [ 4] 1134 	OR	A
      00B62D 20 05            [12] 1135 	JR	NZ,TLL2
      00B62F DD CB 21 B6      [23] 1136 	RES	6,33(IX)
      00B633 C9               [10] 1137 	RET
      00B634                       1138 TLL2:
      00B634 32 32 B9         [13] 1139 	LD	(LFOP6+1),A
      00B637 DD CB 21 F6      [23] 1140 	SET	6,33(IX)
      00B63B 7E               [ 7] 1141 	LD	A,(HL)
      00B63C 23               [ 6] 1142 	INC	HL
      00B63D DD 77 1D         [19] 1143 	LD	29(IX),A
      00B640 DD 36 1E 00      [19] 1144 	LD	30(IX),#0
      00B644 DD 77 0B         [19] 1145 	LD	11(IX),A
      00B647 C9               [10] 1146 	RET
                                   1147 	
                                   1148 ; **	SET Q COMMAND	**
                                   1149 
      00B648                       1150 SETQ:
      00B648 7E               [ 7] 1151 	LD	A,(HL)
      00B649 23               [ 6] 1152 	INC	HL
      00B64A DD 77 12         [19] 1153 	LD	18(IX),A
      00B64D C9               [10] 1154 	RET
                                   1155 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 22.
Hexadecimal [24-Bits]



                                   1156 ; **	�ݼ�� ��� Ҳ�	**
                                   1157 
      00B64E                       1158 OTOPST:
      00B64E 3A 79 C0         [13] 1159 	LD	A,(PCMFLG)
      00B651 B7               [ 4] 1160 	OR	A
      00B652 20 18            [12] 1161 	JR	NZ,OTOPCM
      00B654 3A 7D BE         [13] 1162 	LD	A,(DRMF1)
      00B657 B7               [ 4] 1163 	OR	A
      00B658 20 0C            [12] 1164 	JR	NZ,OTODRM
      00B65A 7E               [ 7] 1165 	LD	A,(HL)
      00B65B 23               [ 6] 1166 	INC	HL
      00B65C DD 77 01         [19] 1167 	LD	1(IX),A
      00B65F CD 6F B7         [17] 1168 	CALL	STENV
      00B662 CD D4 B7         [17] 1169 	CALL	STVOL
      00B665 C9               [10] 1170 	RET
      00B666                       1171 OTODRM:
      00B666 7E               [ 7] 1172 	LD	A,(HL)
      00B667 23               [ 6] 1173 	INC	HL
      00B668 32 48 C0         [13] 1174 	LD	(RHYTHM),A	; SET RETHM PARA
      00B66B C9               [10] 1175 	RET
      00B66C                       1176 OTOPCM:
      00B66C 7E               [ 7] 1177 	LD	A,(HL)
      00B66D 32 78 C0         [13] 1178 	LD	(PCMNUM),A
      00B670 3D               [ 4] 1179 	DEC	A
      00B671 DD 77 01         [19] 1180 	LD	1(IX),A
      00B674 23               [ 6] 1181 	INC	HL
      00B675 87               [ 4] 1182 	ADD	A,A
      00B676 87               [ 4] 1183 	ADD	A,A
      00B677 87               [ 4] 1184 	ADD	A,A
      00B678 E5               [11] 1185 	PUSH	HL
      00B679 21 00 E3         [10] 1186 	LD	HL,#PCMADR
      00B67C 5F               [ 4] 1187 	LD	E,A
      00B67D 16 00            [ 7] 1188 	LD	D,#0
      00B67F 19               [11] 1189 	ADD	HL,DE
      00B680 5E               [ 7] 1190 	LD	E,(HL)
      00B681 23               [ 6] 1191 	INC	HL
      00B682 56               [ 7] 1192 	LD	D,(HL)
      00B683 23               [ 6] 1193 	INC	HL
      00B684 ED 53 72 C0      [20] 1194 	LD	(STTADR),DE
      00B688 5E               [ 7] 1195 	LD	E,(HL)
      00B689 23               [ 6] 1196 	INC	HL
      00B68A 56               [ 7] 1197 	LD	D,(HL)
      00B68B 23               [ 6] 1198 	INC	HL
      00B68C ED 53 74 C0      [20] 1199 	LD	(ENDADR),DE
      00B690 23               [ 6] 1200 	INC	HL
      00B691 23               [ 6] 1201 	INC	HL
      00B692 5E               [ 7] 1202 	LD	E,(HL)
      00B693 E1               [10] 1203 	POP	HL
      00B694 3A 74 BE         [13] 1204 	LD	A,(PVMODE)
      00B697 B7               [ 4] 1205 	OR	A
      00B698 C8               [11] 1206 	RET	Z
      00B699 DD 73 06         [19] 1207 	LD	6(IX),E
      00B69C C9               [10] 1208 	RET
                                   1209 
                                   1210 ; **	��ح�� ���	**
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 23.
Hexadecimal [24-Bits]



                                   1211 
      00B69D                       1212 VOLPST:
      00B69D 3A 79 C0         [13] 1213 	LD	A,(PCMFLG)
      00B6A0 B7               [ 4] 1214 	OR	A
      00B6A1 20 36            [12] 1215 	JR	NZ,PCMVOL
      00B6A3 3A 7D BE         [13] 1216 	LD	A,(DRMF1)
      00B6A6 B7               [ 4] 1217 	OR	A
      00B6A7 20 09            [12] 1218 	JR	NZ,VOLDRM
      00B6A9 7E               [ 7] 1219 	LD	A,(HL)
      00B6AA 23               [ 6] 1220 	INC	HL
      00B6AB DD 77 06         [19] 1221 	LD	6(IX),A
      00B6AE CD D4 B7         [17] 1222 	CALL	STVOL
      00B6B1 C9               [10] 1223 	RET
                                   1224 	
      00B6B2                       1225 VOLDRM:
      00B6B2 7E               [ 7] 1226 	LD	A,(HL)
      00B6B3 23               [ 6] 1227 	INC	HL
      00B6B4 DD 77 06         [19] 1228 	LD	6(IX),A
      00B6B7 CD E9 B6         [17] 1229 	CALL	DVOLSET
      00B6BA                       1230 VOLDR1:
      00B6BA 06 06            [ 7] 1231 	LD	B,#6
      00B6BC 11 5F C0         [10] 1232 	LD	DE,#DRMVOL
      00B6BF                       1233 VOLDR2:
      00B6BF 4E               [ 7] 1234 	LD	C,(HL)
      00B6C0 1A               [ 7] 1235 	LD	A,(DE)
      00B6C1 E6 C0            [ 7] 1236 	AND	#0b11000000
      00B6C3 B1               [ 4] 1237 	OR	C
      00B6C4 12               [ 7] 1238 	LD	(DE),A
                                   1239 	
      00B6C5 D5               [11] 1240 	PUSH	DE
      00B6C6 5F               [ 4] 1241 	LD	E,A
      00B6C7 78               [ 4] 1242 	LD	A,B
      00B6C8 D6 06            [ 7] 1243 	SUB	#6
      00B6CA ED 44            [ 8] 1244 	NEG
      00B6CC 16 18            [ 7] 1245 	LD	D,#0x18
      00B6CE 82               [ 4] 1246 	ADD	A,D
      00B6CF 57               [ 4] 1247 	LD	D,A
      00B6D0 CD 3F B4         [17] 1248 	CALL	PSGOUT
      00B6D3 D1               [10] 1249 	POP	DE
                                   1250 	
      00B6D4 13               [ 6] 1251 	INC	DE
      00B6D5 23               [ 6] 1252 	INC	HL
      00B6D6 10 E7            [13] 1253 	DJNZ	VOLDR2
      00B6D8 C9               [10] 1254 	RET
      00B6D9                       1255 PCMVOL:
      00B6D9 5E               [ 7] 1256 	LD	E,(HL)
      00B6DA 23               [ 6] 1257 	INC	HL
      00B6DB 3A 74 BE         [13] 1258 	LD	A,(PVMODE)
      00B6DE B7               [ 4] 1259 	OR	A
      00B6DF 20 04            [12] 1260 	JR	NZ,PCMV2
      00B6E1 DD 73 06         [19] 1261 	LD	6(IX),E
      00B6E4 C9               [10] 1262 	RET
      00B6E5                       1263 PCMV2:
      00B6E5 DD 73 07         [19] 1264 	LD	7(IX),E
      00B6E8 C9               [10] 1265 	RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 24.
Hexadecimal [24-Bits]



                                   1266 	
                                   1267 ; --   SET TOTAL RHYTHM VOL	--
                                   1268 	
      00B6E9                       1269 DVOLSET:
      00B6E9 16 11            [ 7] 1270 	LD	D,#0x11
      00B6EB DD 7E 06         [19] 1271 	LD	A,6(IX)
      00B6EE E6 3F            [ 7] 1272 	AND	#0b00111111
      00B6F0 5F               [ 4] 1273 	LD	E,A
      00B6F1 3A 79 BE         [13] 1274 	LD	A,(TOTALV)
      00B6F4 87               [ 4] 1275 	ADD	A,A
      00B6F5 87               [ 4] 1276 	ADD	A,A
      00B6F6 83               [ 4] 1277 	ADD	A,E
      00B6F7 FE 40            [ 7] 1278 	CP	#64
      00B6F9 38 01            [12] 1279 	JR	C,DV2
      00B6FB AF               [ 4] 1280 	XOR	A
      00B6FC                       1281 DV2:
      00B6FC 5F               [ 4] 1282 	LD	E,A
      00B6FD CD 3F B4         [17] 1283 	CALL	PSGOUT
      00B700 C9               [10] 1284 	RET
                                   1285 	
                                   1286 ; **	������ ���	**
                                   1287 
      00B701                       1288 FRQ_DF:
      00B701 AF               [ 4] 1289 	XOR	A
      00B702 DD 77 20         [19] 1290 	LD	32(IX),A	; DETUNE � �ޱ�� BEFORE CODE � CLEAR
      00B705 5E               [ 7] 1291 	LD	E,(HL)
      00B706 23               [ 6] 1292 	INC	HL
      00B707 56               [ 7] 1293 	LD	D,(HL)
      00B708 23               [ 6] 1294 	INC	HL
      00B709 7E               [ 7] 1295 	LD	A,(HL)
      00B70A 23               [ 6] 1296 	INC	HL
      00B70B B7               [ 4] 1297 	OR	A
      00B70C 28 0A            [12] 1298 	JR	Z,FD2
      00B70E E5               [11] 1299 	PUSH	HL
      00B70F DD 6E 09         [19] 1300 	LD	L,9(IX)
      00B712 DD 66 0A         [19] 1301 	LD	H,10(IX)
      00B715 19               [11] 1302 	ADD	HL,DE
      00B716 EB               [ 4] 1303 	EX	DE,HL
      00B717 E1               [10] 1304 	POP	HL
      00B718                       1305 FD2:
      00B718 DD 73 09         [19] 1306 	LD	9(IX),E
      00B71B DD 72 0A         [19] 1307 	LD	10(IX),D
      00B71E 3A 79 C0         [13] 1308 	LD	A,(PCMFLG)
      00B721 B7               [ 4] 1309 	OR	A
      00B722 C8               [11] 1310 	RET	Z
      00B723 E5               [11] 1311 	PUSH	HL
      00B724 2A 76 C0         [16] 1312 	LD	HL,(DELT_N)
      00B727 19               [11] 1313 	ADD	HL,DE
      00B728 EB               [ 4] 1314 	EX	DE,HL
      00B729 4A               [ 4] 1315 	LD	C,D
      00B72A 16 09            [ 7] 1316 	LD	D,#0x09
      00B72C CD 1F BE         [17] 1317 	CALL	PCMOUT
      00B72F 14               [ 4] 1318 	INC	D
      00B730 59               [ 4] 1319 	LD	E,C
      00B731 CD 1F BE         [17] 1320 	CALL	PCMOUT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 25.
Hexadecimal [24-Bits]



      00B734 E1               [10] 1321 	POP	HL
      00B735 C9               [10] 1322 	RET
                                   1323 
                                   1324 	
                                   1325 ; **	��߰� �����	**
                                   1326 	
      00B736                       1327 RSKIP:
      00B736 5E               [ 7] 1328 	LD	E,(HL)
      00B737 23               [ 6] 1329 	INC	HL
      00B738 56               [ 7] 1330 	LD	D,(HL)
      00B739 23               [ 6] 1331 	INC	HL
                                   1332 	
      00B73A E5               [11] 1333 	PUSH	HL
      00B73B 2B               [ 6] 1334 	DEC	HL
      00B73C 2B               [ 6] 1335 	DEC	HL
      00B73D 19               [11] 1336 	ADD	HL,DE
      00B73E 7E               [ 7] 1337 	LD	A,(HL)
      00B73F 3D               [ 4] 1338 	DEC	A	; LOOP ���� =1?
      00B740 28 02            [12] 1339 	JR	Z,RSKIP2
      00B742 E1               [10] 1340 	POP	HL
      00B743 C9               [10] 1341 	RET
      00B744                       1342 RSKIP2:
      00B744 11 04 00         [10] 1343 	LD	DE,#4
      00B747 19               [11] 1344 	ADD	HL,DE	; HL = JUMP ADR
      00B748 EB               [ 4] 1345 	EX	DE,HL
      00B749 E1               [10] 1346 	POP	HL
      00B74A EB               [ 4] 1347 	EX	DE,HL
      00B74B C9               [10] 1348 	RET
                                   1349 	
                                   1350 ; **	��߰� ���� ���		**
                                   1351 	
      00B74C                       1352 REPSTF:
      00B74C 5E               [ 7] 1353 	LD	E,(HL)
      00B74D 23               [ 6] 1354 	INC	HL
      00B74E 56               [ 7] 1355 	LD	D,(HL)		; DE as REWRITE ADR OFFSET +1
      00B74F 23               [ 6] 1356 	INC	HL
                                   1357 	
      00B750 E5               [11] 1358 	PUSH	HL
      00B751 2B               [ 6] 1359 	DEC	HL
      00B752 2B               [ 6] 1360 	DEC	HL
      00B753 19               [11] 1361 	ADD	HL,DE
      00B754 7E               [ 7] 1362 	LD	A,(HL)
      00B755 2B               [ 6] 1363 	DEC	HL
      00B756 77               [ 7] 1364 	LD	(HL),A
      00B757 E1               [10] 1365 	POP	HL
                                   1366 	
      00B758 C9               [10] 1367 	RET
                                   1368 	
                                   1369 	
                                   1370 ; **	��߰� ���� ��� (FM)	**
                                   1371 
      00B759                       1372 REPENF:
                                   1373 	
      00B759 35               [11] 1374 	DEC	(HL)		; DEC REPEAT Co.
      00B75A 28 0A            [12] 1375 	JR	Z,REPENF2
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 26.
Hexadecimal [24-Bits]



                                   1376 	
      00B75C 23               [ 6] 1377 	INC	HL
      00B75D 23               [ 6] 1378 	INC	HL
                                   1379 	
      00B75E 5E               [ 7] 1380 	LD	E,(HL)
      00B75F 23               [ 6] 1381 	INC	HL
      00B760 56               [ 7] 1382 	LD	D,(HL)
      00B761 2B               [ 6] 1383 	DEC	HL
      00B762 A7               [ 4] 1384 	AND	A
      00B763 ED 52            [15] 1385 	SBC	HL,DE
      00B765 C9               [10] 1386 	RET
                                   1387 	
      00B766                       1388 REPENF2:
                                   1389 	
      00B766 23               [ 6] 1390 	INC	HL
      00B767 7E               [ 7] 1391 	LD	A,(HL)
      00B768 2B               [ 6] 1392 	DEC	HL
      00B769 77               [ 7] 1393 	LD	(HL),A
      00B76A 11 04 00         [10] 1394 	LD	DE,#4
      00B76D 19               [11] 1395 	ADD	HL,DE
                                   1396 	
      00B76E C9               [10] 1397 	RET
                                   1398 	
                                   1399 	
                                   1400 ; **	�ݼ�� ��� ���ٰ�� (FM)	**
                                   1401 
      00B76F                       1402 STENV:
      00B76F E5               [11] 1403 	PUSH	HL
                                   1404 
      00B770 CD DD B3         [17] 1405 	CALL	KEYOFF
      00B773 3E 80            [ 7] 1406 	LD	A,#0x80
      00B775 DD 86 08         [19] 1407 	ADD	A,8(IX)
      00B778 1E 0F            [ 7] 1408 	LD	E,#0x0F
      00B77A 06 04            [ 7] 1409 	LD	B,#4
      00B77C                       1410 ENVLP:
      00B77C 57               [ 4] 1411 	LD	D,A
      00B77D CD 3F B4         [17] 1412 	CALL	PSGOUT		; �ذ�(RR) ��� � ���
      00B780 C6 04            [ 7] 1413 	ADD	A,#4
      00B782 10 F8            [13] 1414 	DJNZ	ENVLP
                                   1415 
      00B784 DD 7E 01         [19] 1416 	LD	A,1(IX)	; ܰ� �� �ݼ�� ���ް � ��
      00B787                       1417 STENV0:
      00B787 4F               [ 4] 1418 	LD	C,A
                                   1419 	
      00B788 0F               [ 4] 1420 	RRCA
      00B789 0F               [ 4] 1421 	RRCA
      00B78A 0F               [ 4] 1422 	RRCA
      00B78B 0F               [ 4] 1423 	RRCA			; *16
      00B78C 67               [ 4] 1424 	LD	H,A
      00B78D E6 F0            [ 7] 1425 	AND	#0b11110000
      00B78F 6F               [ 4] 1426 	LD	L,A
      00B790 7C               [ 4] 1427 	LD	A,H
      00B791 E6 0F            [ 7] 1428 	AND	#0b00001111
      00B793 67               [ 4] 1429 	LD	H,A		; HL=*16
                                   1430 	
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 27.
Hexadecimal [24-Bits]



      00B794 79               [ 4] 1431 	LD	A,C
      00B795 87               [ 4] 1432 	ADD	A,A
      00B796 87               [ 4] 1433 	ADD	A,A
      00B797 87               [ 4] 1434 	ADD	A,A
      00B798 81               [ 4] 1435 	ADD	A,C		; *9
                                   1436 	
      00B799 85               [ 4] 1437 	ADD	A,L
      00B79A 6F               [ 4] 1438 	LD	L,A
      00B79B 8C               [ 4] 1439 	ADC	A,H
      00B79C 95               [ 4] 1440 	SUB	L
      00B79D 67               [ 4] 1441 	LD	H,A		; HL=*25
                                   1442 	
      00B79E EB               [ 4] 1443 	EX	DE,HL
      00B79F 2A 01 C2         [16] 1444 	LD	HL,(OTODAT)
      00B7A2 23               [ 6] 1445 	INC	HL
      00B7A3 19               [11] 1446 	ADD	HL,DE		;  HL � �ݼ���ް� ��ɳ ���ڽ
      00B7A4 11 00 C2         [10] 1447 	LD	DE,#MUSNUM
      00B7A7 19               [11] 1448 	ADD	HL,DE
                                   1449 
      00B7A8                       1450 STENV1:
      00B7A8 01 06 04         [10] 1451 	LD	BC,#0x0406	; 4 OPERATER
                                   1452 				; 6 PARAMATER(Det/Mul,Total,KS/AR,DR,SR,SL/RR)
      00B7AB 3E 30            [ 7] 1453 	LD	A,#0x30		; START=PORT 30H
      00B7AD DD 86 08         [19] 1454 	ADD	A,8(IX)	; PLUS CHANNEL No.
      00B7B0 57               [ 4] 1455 	LD	D,A
                                   1456 
      00B7B1                       1457 STENV2:
      00B7B1 C5               [11] 1458 	PUSH	BC
      00B7B2                       1459 STENV3:
      00B7B2 5E               [ 7] 1460 	LD	E,(HL)		; GET DATA
      00B7B3 CD 3F B4         [17] 1461 	CALL	PSGOUT
                                   1462 
      00B7B6 14               [ 4] 1463 	INC 	D		;
      00B7B7 14               [ 4] 1464 	INC 	D		;  SKIP BLANK PORT
      00B7B8 14               [ 4] 1465 	INC 	D		;
      00B7B9 14               [ 4] 1466 	INC 	D		;
      00B7BA 23               [ 6] 1467 	INC 	HL
                                   1468 
      00B7BB 10 F5            [13] 1469 	DJNZ 	STENV3
                                   1470 
      00B7BD C1               [10] 1471 	POP	BC
      00B7BE 0D               [ 4] 1472 	DEC	C
      00B7BF C2 B1 B7         [10] 1473 	JP	NZ,STENV2
                                   1474 
      00B7C2 7E               [ 7] 1475 	LD	A,(HL)		; GET FEEDBACK/ALGORIZM
      00B7C3 5F               [ 4] 1476 	LD	E,A
      00B7C4 E6 07            [ 7] 1477 	AND	#0x07		; GET ALGORIZM
      00B7C6 DD 77 07         [19] 1478 	LD	7(IX),A	; STORE ALGORIZM
      00B7C9 3E B0            [ 7] 1479 	LD	A,#0xB0		; GET ALGO SET ADDRES
      00B7CB DD 86 08         [19] 1480 	ADD	A,8(IX)	; CH PLUS
      00B7CE 57               [ 4] 1481 	LD	D,A
      00B7CF CD 3F B4         [17] 1482 	CALL	PSGOUT
                                   1483 
      00B7D2 E1               [10] 1484 	POP	HL
      00B7D3 C9               [10] 1485 	RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 28.
Hexadecimal [24-Bits]



                                   1486 
                                   1487 	
                                   1488 ; **	��ح��	**
                                   1489 
      00B7D4                       1490 STVOL:
      00B7D4 E5               [11] 1491 	PUSH	HL
      00B7D5 D5               [11] 1492 	PUSH	DE
      00B7D6 C5               [11] 1493 	PUSH	BC
                                   1494 
      00B7D7 CD DE B7         [17] 1495 	CALL	STV1
                                   1496 
      00B7DA C1               [10] 1497 	POP	BC
      00B7DB D1               [10] 1498 	POP	DE
      00B7DC E1               [10] 1499 	POP	HL
      00B7DD C9               [10] 1500 	RET
      00B7DE                       1501 STV1:
      00B7DE DD 4E 06         [19] 1502 	LD	C,6(IX)	; INPUT VOLUME
      00B7E1 3A 79 BE         [13] 1503 	LD	A,(TOTALV)
      00B7E4 81               [ 4] 1504 	ADD	A,C
      00B7E5 FE 14            [ 7] 1505 	CP	#20
      00B7E7 38 01            [12] 1506 	JR	C,STV12
      00B7E9 AF               [ 4] 1507 	XOR	A
      00B7EA                       1508 STV12:
      00B7EA 4F               [ 4] 1509 	LD	C,A
      00B7EB 06 00            [ 7] 1510 STV2:	LD	B,#0
      00B7ED 21 82 BE         [10] 1511 	LD	HL,#FMVDAT
      00B7F0 09               [11] 1512 	ADD	HL,BC
      00B7F1 5E               [ 7] 1513 	LD	E,(HL)		; GET VOLUME DATA
                                   1514 	
      00B7F2 3E 40            [ 7] 1515 	LD	A,#0x40
      00B7F4 DD 86 08         [19] 1516 	ADD	A,8(IX)	; GET PORT No.
                                   1517 
      00B7F7 21 96 BE         [10] 1518 	LD	HL,#CRYDAT
      00B7FA 06 00            [ 7] 1519 	LD	B,#0
      00B7FC DD 4E 07         [19] 1520 	LD	C,7(IX)	; INPUT ALGOLIZM
      00B7FF 09               [11] 1521 	ADD	HL,BC
      00B800 4E               [ 7] 1522 	LD	C,(HL)		; C=��ر
      00B801 06 04            [ 7] 1523 	LD	B,#4		; 4 OPERATER
                                   1524 
      00B803                       1525 STVOL2:
      00B803 CB 19            [ 8] 1526 	RR	C
      00B805 57               [ 4] 1527 	LD	D,A
      00B806 DC 3F B4         [17] 1528 	CALL	C,PSGOUT	;  ��ر �� PSGOUT �
      00B809 C6 04            [ 7] 1529 	ADD	A,#4
      00B80B 10 F6            [13] 1530 	DJNZ	STVOL2
      00B80D C9               [10] 1531 	RET
                                   1532 
                                   1533 	
                                   1534 ; **	Timer-B �������� ٰ��   **
                                   1535 
                                   1536 ; 	IN: E<= TIMER_B COUNTER
                                   1537 	
      00B80E                       1538 STTMB:
      00B80E F5               [11] 1539 	PUSH AF
      00B80F D5               [11] 1540 	PUSH DE
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 29.
Hexadecimal [24-Bits]



      00B810                       1541 STTMB2:
                                   1542 	
      00B810 16 26            [ 7] 1543 	LD D,#0x26
      00B812 CD 3F B4         [17] 1544 	CALL PSGOUT
                                   1545 
      00B815 16 27            [ 7] 1546 	LD D,#0x27
      00B817 1E 78            [ 7] 1547 	LD E,#0x78
      00B819 CD 3F B4         [17] 1548 	CALL PSGOUT     ;  Timer-B OFF
      00B81C 1E 7A            [ 7] 1549 	LD E,#0x7A
      00B81E CD 3F B4         [17] 1550 	CALL PSGOUT     ;  Timer-B ON
                                   1551 
      00B821 3E 05            [ 7] 1552 	LD A,#5
      00B823 D3 E4            [11] 1553 	OUT (#0xE4),A
                                   1554 
      00B825 D1               [10] 1555 	POP DE
      00B826 F1               [10] 1556 	POP AF
      00B827 C9               [10] 1557 	RET
                                   1558 
                                   1559 	
                                   1560 ; **	LFO ٰ��	**
                                   1561 	
      00B828                       1562 PLLFO:
                                   1563 	
                                   1564 ; ---	FOR FM & SSG LFO	---
                                   1565 	
      00B828 DD CB 1F 7E      [20] 1566 	BIT	7,31(IX)	;  CHECK bit 7 ... LFO FLAG
      00B82C C8               [11] 1567 	RET	Z
                                   1568 
      00B82D DD 6E 02         [19] 1569 	LD	L,2(IX)
      00B830 DD 66 03         [19] 1570 	LD	H,3(IX)
      00B833 2B               [ 6] 1571 	DEC	HL
      00B834 7E               [ 7] 1572 	LD 	A,(HL)
      00B835 FE F0            [ 7] 1573 	CP	#0xF0
      00B837 C8               [11] 1574 	RET	Z	;  ���� � �ް� �� '&' �� RET
                                   1575 
      00B838 DD CB 1F 6E      [20] 1576 	BIT	5,31(IX)	; LFO CONTINE FLAG
      00B83C 20 10            [12] 1577 	JR	NZ,CTLFO	; bit 5 = 1 �� LFO ���޸
                                   1578 
                                   1579 ; **	LFO INITIARIZE   **
                                   1580 
      00B83E CD 52 B9         [17] 1581     CALL	LFORST
      00B841 CD 5D B9         [17] 1582 	CALL	LFORST2
      00B844 DD 7E 15         [19] 1583 	LD	A,21(IX)
      00B847 DD 77 16         [19] 1584 	LD	22(IX),A
      00B84A DD CB 1F EE      [23] 1585 	SET	5,31(IX)	; SET CONTINUE FLAG
                                   1586 	
      00B84E                       1587 CTLFO:
      00B84E DD 7E 14         [19] 1588 	LD	A,20(IX)
      00B851 B7               [ 4] 1589 	OR	A
      00B852 28 05            [12] 1590 	JR	Z,CTLFO1
      00B854 3D               [ 4] 1591 	DEC	A
      00B855 DD 77 14         [19] 1592 	LD	20(IX),A
      00B858 C9               [10] 1593 	RET
      00B859                       1594 CTLFO1:
      00B859 DD 35 16         [23] 1595 	DEC	22(IX)	;����
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 30.
Hexadecimal [24-Bits]



      00B85C C0               [11] 1596 	RET	NZ
                                   1597 	
      00B85D DD 7E 15         [19] 1598 	LD	A,21(IX)
      00B860 DD 77 16         [19] 1599 	LD	22(IX),A	;���� �� ��ò
      00B863 DD 7E 1C         [19] 1600 	LD	A,28(IX)	;  GET PEAK LEVEL COUNTER (P.L.C)
      00B866 B7               [ 4] 1601 	OR	A
      00B867 20 18            [12] 1602 	JR	NZ,PLLFO1	;  P.L.C > 0 �� PLLFO1
                                   1603 
      00B869 A7               [ 4] 1604 	AND	A
      00B86A 21 00 00         [10] 1605 	LD	HL,#0
      00B86D DD 56 1A         [19] 1606 	LD	D,26(IX)
      00B870 DD 5E 19         [19] 1607 	LD	E,25(IX)
      00B873 ED 52            [15] 1608 	SBC	HL,DE
      00B875 DD 74 1A         [19] 1609 	LD	26(IX),H
      00B878 DD 75 19         [19] 1610 	LD	25(IX),L	; WAVE ����
      00B87B DD 7E 1B         [19] 1611 	LD	A,27(IX)
      00B87E DD 77 1C         [19] 1612 	LD	28(IX),A	;  P.L.C �� ��ò
                                   1613 
      00B881                       1614 PLLFO1:
      00B881 DD 35 1C         [23] 1615 	DEC	28(IX)		; P.L.C.-1
      00B884 DD 6E 19         [19] 1616 	LD	L,25(IX)
      00B887 DD 66 1A         [19] 1617 	LD	H,26(IX)
      00B88A CD 8E B8         [17] 1618 	CALL	PLS2
      00B88D C9               [10] 1619 	RET
      00B88E                       1620 PLS2:
      00B88E 3A 79 C0         [13] 1621 	LD	A,(PCMFLG)
      00B891 B7               [ 4] 1622 	OR	A
      00B892 28 14            [12] 1623 	JR	Z,PLSKI2
      00B894 ED 5B 76 C0      [20] 1624 	LD	DE,(DELT_N)
      00B898 19               [11] 1625 	ADD	HL,DE
      00B899 22 76 C0         [16] 1626 	LD	(DELT_N),HL
      00B89C 16 09            [ 7] 1627 	LD	D,#0x09
      00B89E 5D               [ 4] 1628 	LD	E,L
      00B89F CD 1F BE         [17] 1629 	CALL	PCMOUT
      00B8A2 14               [ 4] 1630 	INC	D
      00B8A3 5C               [ 4] 1631 	LD	E,H
      00B8A4 CD 1F BE         [17] 1632 	CALL	PCMOUT
      00B8A7 C9               [10] 1633 	RET
      00B8A8                       1634 PLSKI2:
      00B8A8 DD 5E 1D         [19] 1635 	LD	E,29(IX)	;  GET FNUM1
      00B8AB DD 56 1E         [19] 1636 	LD	D,30(IX)	;  GET B/FNUM2
      00B8AE 19               [11] 1637 	ADD	HL,DE		;  HL= NEW F-NUMBER
      00B8AF DD 75 1D         [19] 1638 	LD	29(IX),L	; SET NEW F-NUM1
      00B8B2 DD 74 1E         [19] 1639 	LD	30(IX),H	; SET NEW F-NUM2
      00B8B5 3A 7C BE         [13] 1640 	LD	A,(SSGF1)
      00B8B8 B7               [ 4] 1641 	OR	A
      00B8B9 28 22            [12] 1642 	JR	Z,LFOP5
                                   1643 	
                                   1644 ; ---	FOR SSG	LFO	---
                                   1645 	
      00B8BB DD 7E 20         [19] 1646 	LD	A,32(IX)	; GET KEY CODE&OCTAVE
                                   1647 	
      00B8BE CB 3F            [ 8] 1648 	SRL	A
      00B8C0 CB 3F            [ 8] 1649 	SRL	A
      00B8C2 CB 3F            [ 8] 1650 	SRL	A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 31.
Hexadecimal [24-Bits]



      00B8C4 CB 3F            [ 8] 1651 	SRL	A
                                   1652 	
      00B8C6 B7               [ 4] 1653 	OR	A		;  OCTAVE=1?
      00B8C7 28 07            [12] 1654 	JR	Z,SSLFO2
      00B8C9 47               [ 4] 1655 	LD	B,A
                                   1656 	
      00B8CA                       1657 SNUMGETL:
                                   1658 	
      00B8CA CB 3C            [ 8] 1659 	SRL	H
      00B8CC CB 1D            [ 8] 1660 	RR	L
      00B8CE 10 FA            [13] 1661 	DJNZ	SNUMGETL
                                   1662 
      00B8D0                       1663 SSLFO2:
      00B8D0 5D               [ 4] 1664 	LD	E,L
      00B8D1 DD 56 08         [19] 1665 	LD	D,8(IX)
      00B8D4 CD 3F B4         [17] 1666 	CALL	PSGOUT
                                   1667 
      00B8D7 14               [ 4] 1668 	INC	D
      00B8D8 5C               [ 4] 1669 	LD	E,H
      00B8D9 CD 3F B4         [17] 1670 	CALL	PSGOUT
                                   1671 
      00B8DC C9               [10] 1672 	RET
                                   1673 	
                                   1674 ; ---	FOR FM LFO	---
                                   1675 	
      00B8DD                       1676 LFOP5:
      00B8DD DD CB 21 76      [20] 1677 	BIT	6,33(IX)
      00B8E1 20 4E            [12] 1678 	JR	NZ,LFOP6
      00B8E3 DD CB 08 4E      [20] 1679 	BIT	1,8(IX)	;  CH=3?
      00B8E7 28 36            [12] 1680 	JR	Z,PLLFO2	; NOT CH3 THEN PLLFO2
      00B8E9 3A A7 B1         [13] 1681 	LD	A,(PLSET1+1)
      00B8EC FE 78            [ 7] 1682 	CP	#0x78
      00B8EE 20 2F            [12] 1683 	JR	NZ,PLLFO2	; NOT SE MODE
      00B8F0 22 65 C0         [16] 1684 	LD	(NEWFNM),HL
      00B8F3                       1685 LFOP4:
      00B8F3 21 5B C0         [10] 1686 	LD	HL,#DETDAT
      00B8F6 FD 21 67 C0      [14] 1687 	LD	IY,#OP_SEL
      00B8FA 06 04            [ 7] 1688 	LD	B,#4
      00B8FC                       1689 LFOP3:
      00B8FC C5               [11] 1690 	PUSH	BC
      00B8FD ED 5B 65 C0      [20] 1691 	LD	DE,(NEWFNM)
      00B901 4E               [ 7] 1692 	LD	C,(HL)
      00B902 06 00            [ 7] 1693 	LD	B,#0
      00B904 23               [ 6] 1694 	INC	HL
      00B905 EB               [ 4] 1695 	EX	DE,HL
      00B906 09               [11] 1696 	ADD	HL,BC
                                   1697 	
      00B907 D5               [11] 1698 	PUSH	DE
      00B908 5C               [ 4] 1699 	LD	E,H
      00B909 FD 56 00         [19] 1700 	LD	D,(IY)
      00B90C FD 23            [10] 1701 	INC	IY
      00B90E CD 3F B4         [17] 1702 	CALL	PSGOUT
      00B911 15               [ 4] 1703 	DEC	D
      00B912 15               [ 4] 1704 	DEC	D
      00B913 15               [ 4] 1705 	DEC	D
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 32.
Hexadecimal [24-Bits]



      00B914 15               [ 4] 1706 	DEC	D
      00B915 5D               [ 4] 1707 	LD	E,L
      00B916 CD 3F B4         [17] 1708 	CALL	PSGOUT
      00B919 D1               [10] 1709 	POP	DE
      00B91A EB               [ 4] 1710 	EX	DE,HL
      00B91B C1               [10] 1711 	POP	BC
      00B91C 10 DE            [13] 1712 	DJNZ	LFOP3
      00B91E C9               [10] 1713 	RET
      00B91F                       1714 PLLFO2:
      00B91F 5C               [ 4] 1715 	LD	E,H
      00B920 3E A4            [ 7] 1716 	LD	A,#0xA4	;  PORT A4H
      00B922 DD 86 08         [19] 1717 	ADD	A,8(IX)
      00B925 57               [ 4] 1718 	LD	D,A
      00B926 CD 3F B4         [17] 1719 	CALL	PSGOUT
      00B929 D6 04            [ 7] 1720 	SUB	#4
      00B92B 5D               [ 4] 1721 	LD	E,L	;  F-NUMBER1 DATA
      00B92C 57               [ 4] 1722 	LD	D,A
      00B92D CD 3F B4         [17] 1723 	CALL	PSGOUT
      00B930 C9               [10] 1724 	RET
                                   1725 	
      00B931                       1726 LFOP6:
      00B931 0E 01            [ 7] 1727 	LD	C,#1
      00B933 3E 40            [ 7] 1728 	LD	A,#0x40
      00B935 DD 86 08         [19] 1729 	ADD	A,8(IX)
      00B938 5D               [ 4] 1730 	LD	E,L
      00B939 CB 41            [ 8] 1731 	BIT	0,C
      00B93B C4 4B B9         [17] 1732 	CALL	NZ,LFP62
      00B93E CB 51            [ 8] 1733 	BIT	2,C
      00B940 C4 4B B9         [17] 1734 	CALL	NZ,LFP62
      00B943 CB 49            [ 8] 1735 	BIT	1,C
      00B945 C4 4B B9         [17] 1736 	CALL	NZ,LFP62
      00B948 CB 59            [ 8] 1737 	BIT	3,C
      00B94A C8               [11] 1738 	RET	Z
      00B94B                       1739 LFP62:
      00B94B 57               [ 4] 1740 	LD	D,A
      00B94C CD 3F B4         [17] 1741 	CALL	PSGOUT
      00B94F C6 04            [ 7] 1742 	ADD	A,#4
      00B951 C9               [10] 1743 	RET
                                   1744 	
                                   1745 ; ---	RESET PEAK L.&DELAY	---
                                   1746 	
      00B952                       1747 LFORST:
      00B952 DD 7E 13         [19] 1748 	LD	A,19(IX)
      00B955 DD 77 14         [19] 1749 	LD	20(IX),A	; LFO DELAY � ����ò
      00B958 DD CB 1F AE      [23] 1750 	RES	5,31(IX)	; RESET LFO CONTINE FLAG
      00B95C C9               [10] 1751 	RET
      00B95D                       1752 LFORST2:
      00B95D DD 7E 1B         [19] 1753 	LD	A,27(IX)
      00B960 CB 3F            [ 8] 1754 	SRL	A
      00B962 DD 77 1C         [19] 1755 	LD	28(IX),A	; LFO PEAK LEVEL �� ��ò
      00B965 DD 7E 17         [19] 1756 	LD	A,23(IX)	;
      00B968 DD 77 19         [19] 1757 	LD	25(IX),A	; �ݶخ� ����ò
      00B96B DD 7E 18         [19] 1758 	LD	A,24(IX)	;
      00B96E DD 77 1A         [19] 1759 	LD	26(IX),A
      00B971 DD CB 21 76      [20] 1760 	BIT	6,33(IX)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 33.
Hexadecimal [24-Bits]



      00B975 C8               [11] 1761 	RET	Z
      00B976 DD 7E 0B         [19] 1762 	LD	A,11(IX)
      00B979 DD 77 1D         [19] 1763 	LD	29(IX),A
      00B97C DD 36 1E 00      [19] 1764 	LD	30(IX),#0
      00B980 C9               [10] 1765 	RET
                                   1766 	
      00B981                       1767 SSG:
                                   1768 ; **	SSG �ݹ�ݴݿ� ٰ��   **
                                   1769 
      00B981                       1770 SSGSUB:
      00B981 DD 7E 00         [19] 1771 	LD	A,(IX)
      00B984 3D               [ 4] 1772 	DEC	A
      00B985 DD 77 00         [19] 1773 	LD	(IX),A
      00B988 28 29            [12] 1774 	JR	Z,SSSUB7
                                   1775 
      00B98A DD 46 12         [19] 1776 	LD	B,18(IX)	;  'q'
      00B98D B8               [ 4] 1777 	CP	B
      00B98E 20 13            [12] 1778 	JR	NZ,SSSUB0
                                   1779 	
      00B990 DD 66 03         [19] 1780 	LD	H,3(IX)
      00B993 DD 6E 02         [19] 1781 	LD	L,2(IX)	;  HL=SOUND DATA ADD
      00B996 7E               [ 7] 1782 	LD	A,(HL)		;  A=DATA
      00B997 FE FD            [ 7] 1783 	CP	#0xFD		; COUNT OVER?
      00B999 28 04            [12] 1784 	JR	Z,SSUB0
      00B99B CD A2 BA         [17] 1785 	CALL	SSSUBA		; TO REREASE
      00B99E C9               [10] 1786 	RET
      00B99F                       1787 SSUB0:
      00B99F DD CB 1F B6      [23] 1788  	RES	6,31(IX)	;  SET TIE FLAG
      00B9A3                       1789 SSSUB0:
      00B9A3 DD CB 06 7E      [20] 1790 	BIT 	7,6(IX)	; ENVELOPE CHECK
      00B9A7 C8               [11] 1791 	RET 	Z
      00B9A8 CD E9 BB         [17] 1792 	CALL	SOFENV
      00B9AB 5F               [ 4] 1793 	LD	E,A
      00B9AC DD 56 07         [19] 1794 	LD	D,7(IX)
      00B9AF CD 3F B4         [17] 1795 	CALL	PSGOUT
      00B9B2 C9               [10] 1796 	RET
                                   1797 	
      00B9B3                       1798 SSSUB7:
      00B9B3 DD 66 03         [19] 1799 	LD	H,3(IX)
      00B9B6 DD 6E 02         [19] 1800 	LD	L,2(IX)	;  HL AS SOUND DATA ADD
      00B9B9 7E               [ 7] 1801 	LD	A,(HL)		;  A=DATA
      00B9BA FE FD            [ 7] 1802 	CP	#0xFD		; COUNT OVER?
      00B9BC 20 08            [12] 1803 	JR	NZ,SSSUBE
      00B9BE                       1804 SSUB1:
      00B9BE DD CB 1F B6      [23] 1805 	RES	6,31(IX)	;  SET TIE FLAG
      00B9C2 23               [ 6] 1806 	INC	HL
      00B9C3 C3 CA B9         [10] 1807 	JP	SSSUBB
      00B9C6                       1808 SSSUBE:
      00B9C6 DD CB 1F F6      [23] 1809 	SET	6,31(IX)
      00B9CA                       1810 SSSUBB:
      00B9CA 7E               [ 7] 1811 	LD	A,(HL)
      00B9CB B7               [ 4] 1812 	OR	A	;  CHECK END MARK
      00B9CC 20 11            [12] 1813 	JR	NZ,SSSUB2
      00B9CE DD CB 1F C6      [23] 1814 	SET	0,31(IX)
      00B9D2 DD 56 05         [19] 1815 	LD	D,5(IX)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 34.
Hexadecimal [24-Bits]



      00B9D5 DD 5E 04         [19] 1816 	LD	E,4(IX)	;  HL=DATA TOP ADD
      00B9D8 7B               [ 4] 1817 	LD	A,E
      00B9D9 B2               [ 4] 1818 	OR	D
      00B9DA CA A6 BC         [10] 1819 	JP	Z,SSGEND
      00B9DD EB               [ 4] 1820 	EX	DE,HL
      00B9DE                       1821 SSSUB1:
      00B9DE 7E               [ 7] 1822 	LD	A,(HL)	;  INPUT FLAG &LENGTH
                                   1823 	
      00B9DF                       1824 SSSUB2:
      00B9DF 23               [ 6] 1825 	INC	HL
      00B9E0 FE F0            [ 7] 1826 	CP	#0xF0	;  COMMAND OF PSG?
      00B9E2 D2 D1 BA         [10] 1827  	JP	NC,SSSUB8
                                   1828 	
      00B9E5 07               [ 4] 1829 	RLCA
      00B9E6 CB 3F            [ 8] 1830 	SRL	A		;  CY=REST FLAG
      00B9E8 DD 77 00         [19] 1831 	LD	0(IX),A	;  SET WAIT COUNTER
      00B9EB 30 06            [12] 1832 	JR	NC,SSSUB6	;  ���� �� SSSUBA
      00B9ED CD A2 BA         [17] 1833 	CALL	SSSUBA
      00B9F0 C3 9B BA         [10] 1834 	JP	SETPT
                                   1835 	
                                   1836 ; **	SET FINE TUNE & COARSE TUNE	**
                                   1837 	
      00B9F3                       1838 SSSUB6:
      00B9F3 7E               [ 7] 1839 	LD	A,(HL)		;  LOAD OCT & KEY CODE
      00B9F4 23               [ 6] 1840 	INC	HL
                                   1841 	
      00B9F5 DD CB 1F 76      [20] 1842 	BIT	6,31(IX)
      00B9F9 20 09            [12] 1843 	JR	NZ,SSSKIP0	;  NON TIE
                                   1844 	
      00B9FB 4F               [ 4] 1845 	LD	C,A
      00B9FC DD 46 20         [19] 1846 	LD	B,32(IX)
      00B9FF 90               [ 4] 1847 	SUB	B
      00BA00 CA 9B BA         [10] 1848 	JP	Z,SETPT		; IF NOW CODE=BEFORE CODE THEN SETPT
                                   1849 	
      00BA03 79               [ 4] 1850 	LD	A,C
                                   1851 	
      00BA04                       1852 SSSKIP0:
      00BA04 DD 77 20         [19] 1853 	LD	32(IX),A	; STORE KEY CODE & OCTAVE
                                   1854 	
      00BA07 E5               [11] 1855 	PUSH	HL
      00BA08 47               [ 4] 1856 	LD	B,A
      00BA09 E6 0F            [ 7] 1857 	AND	#0b00001111	;  GET KEY CODE
      00BA0B 87               [ 4] 1858 	ADD	A,A
      00BA0C 5F               [ 4] 1859 	LD	E,A
      00BA0D 16 00            [ 7] 1860 	LD	D,#0
      00BA0F 21 99 C0         [10] 1861 	LD	HL,#SNUMB
      00BA12 19               [11] 1862 	ADD	HL,DE
                                   1863 	
      00BA13 7E               [ 7] 1864 	LD	A,(HL)		;  GET FNUM2
      00BA14 23               [ 6] 1865 	INC	HL
      00BA15 66               [ 7] 1866 	LD	H,(HL)		;  GET FNUM1
      00BA16 6F               [ 4] 1867 	LD	L,A
                                   1868 	
      00BA17 DD 56 0A         [19] 1869 	LD	D,10(IX)	;
      00BA1A DD 5E 09         [19] 1870 	LD	E,9(IX)	;  GET DETUNE DATA
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 35.
Hexadecimal [24-Bits]



      00BA1D 19               [11] 1871 	ADD	HL,DE		;  DETUNE PLUS
      00BA1E DD 74 1E         [19] 1872   	LD	30(IX),H	; SAVE FOR LFO
      00BA21 DD 75 1D         [19] 1873 	LD	29(IX),L
                                   1874 	
      00BA24 CB 38            [ 8] 1875 	SRL	B
      00BA26 CB 38            [ 8] 1876 	SRL	B
      00BA28 CB 38            [ 8] 1877 	SRL	B
      00BA2A CB 38            [ 8] 1878 	SRL	B
                                   1879 	
      00BA2C 05               [ 4] 1880 	DEC	B
      00BA2D 04               [ 4] 1881 	INC	B		;  OCTAVE=1?
      00BA2E 28 06            [12] 1882 	JR	Z,SSSUB4	;  1 �� SSSUB4 �
                                   1883 	
      00BA30                       1884 SSSUB5:
      00BA30 CB 3C            [ 8] 1885 	SRL	H
      00BA32 CB 1D            [ 8] 1886 	RR	L
      00BA34 10 FA            [13] 1887 	DJNZ	SSSUB5		;  OCTAVE DATA � ��ò
                                   1888 	
      00BA36                       1889 SSSUB4:
                                   1890 	
      00BA36 5D               [ 4] 1891 	LD	E,L
      00BA37 DD 56 08         [19] 1892 	LD	D,8(IX)
      00BA3A CD 3F B4         [17] 1893 	CALL	PSGOUT
                                   1894 	
      00BA3D 5C               [ 4] 1895 	LD	E,H
      00BA3E 14               [ 4] 1896 	INC	D
      00BA3F CD 3F B4         [17] 1897 	CALL	PSGOUT
                                   1898 	
      00BA42 DD CB 1F 76      [20] 1899 	BIT	6,31(IX)
      00BA46 20 05            [12] 1900 	JR	NZ,SSSUBF
      00BA48 CD E9 BB         [17] 1901 	CALL	SOFENV
      00BA4B 18 40            [12] 1902 	JR	SSSUB9
                                   1903 	
      00BA4D                       1904 SSSUBF:			; KEYON ���ķ � ���
      00BA4D DD CB 21 7E      [20] 1905 	BIT	7,33(IX)
      00BA51 28 15            [12] 1906 	JR	Z,SSSUBG	; NOT HARD ENV.
                                   1907 	
                                   1908 ; ---	HARD ENV. KEY ON	---
                                   1909 	
      00BA53 1E 10            [ 7] 1910 	LD	E,#16
      00BA55 DD 56 07         [19] 1911 	LD	D,7(IX)
      00BA58 CD 3F B4         [17] 1912 	CALL	PSGOUT		; HARD ENV.KEYON
                                   1913 	
      00BA5B DD 7E 21         [19] 1914 	LD	A,33(IX)
      00BA5E E6 0F            [ 7] 1915 	AND	#0b00001111
      00BA60 5F               [ 4] 1916 	LD	E,A
      00BA61 16 0D            [ 7] 1917 	LD	D,#0x0D
      00BA63 CD 3F B4         [17] 1918 	CALL	PSGOUT
      00BA66 18 17            [12] 1919 	JR	SSSUBH
                                   1920 	
                                   1921 ; ---	SOFT ENV. KEYON		---
                                   1922 	
      00BA68                       1923 SSSUBG:
      00BA68 DD 7E 06         [19] 1924 	LD	A,6(IX)
      00BA6B E6 0F            [ 7] 1925 	AND	#0b00001111
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 36.
Hexadecimal [24-Bits]



      00BA6D F6 90            [ 7] 1926 	OR	#0b10010000	;  TO STATE 1 (ATTACK)
      00BA6F DD 77 06         [19] 1927 	LD	6(IX),A
                                   1928 	
      00BA72 DD 7E 0C         [19] 1929 	LD	A,12(IX)	;  ENVE INIT
      00BA75 DD 77 0B         [19] 1930 	LD	11(IX),A
      00BA78 DD CB 1F AE      [23] 1931 	RES	5,31(IX)	; RESET LFO CONTINE FLAG
      00BA7C CD 5E BC         [17] 1932 	CALL	SOFEV7
      00BA7F                       1933 SSSUBH:
      00BA7F DD 4E 1B         [19] 1934 	LD	C,27(IX)
      00BA82 CB 39            [ 8] 1935 	SRL	C
      00BA84 DD 71 1C         [19] 1936 	LD	28(IX),C	;  LFO PEAK LEVEL �� ��ò
      00BA87 DD 4E 13         [19] 1937 	LD	C,19(IX)
      00BA8A DD 71 14         [19] 1938 	LD	20(IX),C	;  LFO DELAY � ����ò
      00BA8D                       1939 SSSUB9:
      00BA8D E1               [10] 1940 	POP	HL
                                   1941 	
                                   1942 ; **   VOLUME OUT PROCESS   **
                                   1943 	
                                   1944 ;
                                   1945 ;  ENTRY A: VOLUME DATA
                                   1946 ;
                                   1947 	
      00BA8E                       1948 SSSUB3:
      00BA8E DD CB 21 7E      [20] 1949 	BIT	7,33(IX)
      00BA92 20 07            [12] 1950 	JR	NZ,SETPT	; IF HARD ENVE THEN SETPT
                                   1951 	
      00BA94 5F               [ 4] 1952 	LD	E,A
      00BA95 DD 56 07         [19] 1953 	LD	D,7(IX)
      00BA98 CD 3F B4         [17] 1954 	CALL	PSGOUT
                                   1955 	
                                   1956 ; **   SET POINTER   **
                                   1957 	
      00BA9B                       1958 SETPT:
      00BA9B DD 74 03         [19] 1959     LD	3(IX),H
      00BA9E DD 75 02         [19] 1960 	LD	2(IX),L	;  SET NEXT SOUND DATA ADDRES
      00BAA1 C9               [10] 1961 	RET
                                   1962 	
                                   1963 ; **	KEY OFF �� � RR ���	**
                                   1964 	
      00BAA2                       1965 SSSUBA:
                                   1966 	
                                   1967 ; --	HARD ENV. KEY OFF	--
                                   1968 	
      00BAA2 DD CB 21 7E      [20] 1969 	BIT	7,33(IX)
      00BAA6 28 08            [12] 1970 	JR	Z,SSUBAB	; NOT HARD ENV.
      00BAA8 1E 00            [ 7] 1971 	LD	E,#0
      00BAAA DD 56 07         [19] 1972 	LD	D,7(IX)
      00BAAD CD 3F B4         [17] 1973 	CALL	PSGOUT		; HARD ENV.KEYOFF
                                   1974 	
                                   1975 ; --	SOFT ENV. KEY OFF	--
                                   1976 	
      00BAB0                       1977 SSUBAB:
      00BAB0 DD CB 21 6E      [20] 1978 	BIT	5,33(IX)
      00BAB4 28 07            [12] 1979 	JR	Z,SSUBAC
      00BAB6 DD CB 1F B6      [23] 1980 	RES	6,31(IX)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 37.
Hexadecimal [24-Bits]



      00BABA C3 A3 B9         [10] 1981 	JP	SSSUB0
      00BABD                       1982 SSUBAC:
      00BABD AF               [ 4] 1983 	XOR	A
      00BABE DD CB 06 7E      [20] 1984 	BIT	7,6(IX)
      00BAC2 28 CA            [12] 1985 	JR	Z,SSSUB3	;  �ذ� �ެŹ��� SSSUB3
      00BAC4 DD 7E 06         [19] 1986 	LD	A,6(IX)
      00BAC7 E6 8F            [ 7] 1987 	AND	#0b10001111	; STATE 4 (�ذ�)
      00BAC9 DD 77 06         [19] 1988 	LD	6(IX),A
      00BACC CD 51 BC         [17] 1989 	CALL	SOFEV9
      00BACF 18 BD            [12] 1990 	JR	SSSUB3
                                   1991 	
                                   1992 ; **   ��� ����� � ��ò   **
                                   1993 	
      00BAD1                       1994 SSSUB8:
      00BAD1 E6 0F            [ 7] 1995 	AND	#0x0F		; A=COMMAND No.(0-F)
      00BAD3 11 CA B9         [10] 1996 	LD	DE,#SSSUBB
      00BAD6 D5               [11] 1997 	PUSH	DE		; STORE RETURN ADDRES
      00BAD7 11 E4 BA         [10] 1998 	LD	DE,#PSGCOM
      00BADA 47               [ 4] 1999 	LD	B,A
      00BADB 87               [ 4] 2000 	ADD	A,A
      00BADC 80               [ 4] 2001 	ADD	A,B		; A*3
      00BADD 83               [ 4] 2002 	ADD	A,E
      00BADE 5F               [ 4] 2003 	LD	E,A
      00BADF 8A               [ 4] 2004 	ADC	A,D
      00BAE0 93               [ 4] 2005 	SUB	E
      00BAE1 57               [ 4] 2006 	LD	D,A		; DE+A*3
      00BAE2 D5               [11] 2007 	PUSH	DE
      00BAE3 C9               [10] 2008 	RET
                                   2009 	
                                   2010 ; **   PSG COMMAND TABLE   **
                                   2011 	
      00BAE4                       2012 PSGCOM:
      00BAE4 C3 85 BB         [10] 2013 	JP	OTOSSG		;F0-�ݼ�� ���         '@'
      00BAE7 C3 B6 BB         [10] 2014 	JP	PSGVOL		;F1-VOLUME SET
      00BAEA C3 01 B7         [10] 2015 	JP	FRQ_DF		;F2-DETUNE
      00BAED C3 48 B6         [10] 2016 	JP	SETQ		;F3-COMMAND OF        'q'
      00BAF0 C3 B2 B5         [10] 2017 	JP	LFOON		;F4-LFO
      00BAF3 C3 4C B7         [10] 2018 	JP	REPSTF		;F5-REPEAT START SET  '['
      00BAF6 C3 59 B7         [10] 2019 	JP	REPENF		;F6-REPEAT END SET    ']'
      00BAF9 C3 3C BB         [10] 2020 	JP	NOISE		;F7-MIX PORT          'P'
      00BAFC C3 62 BB         [10] 2021 	JP	NOISEW		;F8-NOIZE PARAMATER   'w'
      00BAFF C3 D1 B4         [10] 2022 	JP	FLGSET		;F9-FLAG SET
      00BB02 C3 6E BB         [10] 2023 	JP	ENVPST		;FA-SOFT ENVELOPE     'E'
      00BB05 C3 9C BB         [10] 2024 	JP	VOLUPS		;FB-VOLUME UP    ')'
      00BB08 C3 CB B4         [10] 2025     JP	NTMEAN		;FC-
      00BB0B C3 CC B4         [10] 2026 	JP	TIE
      00BB0E C3 36 B7         [10] 2027 	JP	RSKIP
      00BB11 C3 BB B4         [10] 2028 	JP	SECPRC		;FF- to sec com
                                   2029 	
                                   2030 ; **	HARD ENVE SET	**
                                   2031 	
      00BB14                       2032 HRDENV:
      00BB14 5E               [ 7] 2033 	LD	E,(HL)
      00BB15 23               [ 6] 2034 	INC	HL
      00BB16 16 0D            [ 7] 2035 	LD	D,#0x0D
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 38.
Hexadecimal [24-Bits]



      00BB18 CD 3F B4         [17] 2036 	CALL	PSGOUT
      00BB1B 7B               [ 4] 2037 	LD	A,E
      00BB1C F6 80            [ 7] 2038 	OR	#0b10000000	; SET H.E FLAG
      00BB1E DD 77 21         [19] 2039 	LD	33(IX),A	; H.E MODE
      00BB21 DD 36 06 10      [19] 2040 	LD	6(IX),#16
      00BB25 C9               [10] 2041 	RET
                                   2042 	
                                   2043 ; **	HARD ENVE PERIOD	**
                                   2044 	
      00BB26                       2045 ENVPOD:
      00BB26 5E               [ 7] 2046 	LD	E,(HL)
      00BB27 23               [ 6] 2047 	INC	HL
      00BB28 16 0B            [ 7] 2048 	LD	D,#0x0B
      00BB2A CD 3F B4         [17] 2049 	CALL	PSGOUT
      00BB2D 5E               [ 7] 2050 	LD	E,(HL)
      00BB2E 23               [ 6] 2051 	INC	HL
      00BB2F 14               [ 4] 2052 	INC	D
      00BB30 CD 3F B4         [17] 2053 	CALL	PSGOUT
      00BB33 C9               [10] 2054 	RET
                                   2055 	
                                   2056 ; **   WRITE REG   **
                                   2057 	
      00BB34                       2058 W_REG:
      00BB34 56               [ 7] 2059 	LD	D,(HL)
      00BB35 23               [ 6] 2060 	INC	HL
      00BB36 5E               [ 7] 2061 	LD	E,(HL)
      00BB37 23               [ 6] 2062 	INC	HL
      00BB38 CD 3F B4         [17] 2063 	CALL	PSGOUT
      00BB3B C9               [10] 2064 	RET
                                   2065 	
                                   2066 ; **   MIX PORT CONTROL   **
                                   2067 	
      00BB3C                       2068 NOISE:
      00BB3C 4E               [ 7] 2069 	LD	C,(HL)
      00BB3D 23               [ 6] 2070 	INC	HL
                                   2071 	
      00BB3E DD 46 08         [19] 2072 	LD	B,8(IX)	; CH NO.
                                   2073 	
      00BB41 3A 4E C0         [13] 2074 	LD	A,(PREGBF+5)
      00BB44 5F               [ 4] 2075 	LD	E,A
      00BB45 CB 38            [ 8] 2076 	SRL	B
      00BB47 04               [ 4] 2077 	INC	B
      00BB48 50               [ 4] 2078 	LD	D,B
      00BB49 3E 7B            [ 7] 2079 	LD	A,#0b01111011
      00BB4B                       2080 NOISE1:
      00BB4B 07               [ 4] 2081 	RLCA
      00BB4C 10 FD            [13] 2082 	DJNZ	NOISE1
      00BB4E A3               [ 4] 2083 	AND	E
      00BB4F 5F               [ 4] 2084 	LD	E,A
      00BB50 79               [ 4] 2085 	LD	A,C
      00BB51 42               [ 4] 2086 	LD	B,D
      00BB52 0F               [ 4] 2087 	RRCA
      00BB53                       2088 NOISE2:
      00BB53 07               [ 4] 2089 	RLCA
      00BB54 10 FD            [13] 2090 	DJNZ	NOISE2
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 39.
Hexadecimal [24-Bits]



      00BB56 B3               [ 4] 2091 	OR	E
      00BB57 16 07            [ 7] 2092 	LD	D,#7
      00BB59 5F               [ 4] 2093 	LD	E,A
      00BB5A CD 3F B4         [17] 2094 	CALL	PSGOUT
                                   2095 	
      00BB5D 7B               [ 4] 2096 	LD	A,E
      00BB5E 32 4E C0         [13] 2097 	LD	(PREGBF+5),A
      00BB61 C9               [10] 2098 	RET
                                   2099 	
                                   2100 ; **   ɲ�� ���ʽ�   **
                                   2101 	
      00BB62                       2102 NOISEW:
      00BB62 5E               [ 7] 2103 	LD	E,(HL)
      00BB63 23               [ 6] 2104 	INC	HL
      00BB64 16 06            [ 7] 2105 	LD	D,#6
      00BB66 CD 3F B4         [17] 2106 	CALL	PSGOUT
      00BB69 7B               [ 4] 2107 	LD	A,E
      00BB6A 32 4D C0         [13] 2108 	LD	(PREGBF+4),A
      00BB6D C9               [10] 2109 	RET
                                   2110 	
                                   2111 ; **   ����۰�� ���Ұ� ���   **
                                   2112 	
      00BB6E                       2113 ENVPST:
      00BB6E EB               [ 4] 2114 	EX	DE,HL
      00BB6F DD E5            [15] 2115 	PUSH	IX
      00BB71 E1               [10] 2116 	POP	HL
      00BB72 01 0C 00         [10] 2117 	LD	BC,#12
      00BB75 09               [11] 2118 	ADD	HL,BC
      00BB76 EB               [ 4] 2119 	EX	DE,HL
      00BB77 01 06 00         [10] 2120 	LD	BC,#6
      00BB7A ED B0            [21] 2121 	LDIR
      00BB7C DD 7E 06         [19] 2122 	LD	A,6(IX)
      00BB7F F6 90            [ 7] 2123 	OR	#0b10010000	; �����׸� �����׸� ���
      00BB81 DD 77 06         [19] 2124 	LD	6(IX),A
      00BB84 C9               [10] 2125 	RET
                                   2126 	
                                   2127 ; **   PSG �ݼ�����   **
                                   2128 	
      00BB85                       2129 OTOSSG:
      00BB85 7E               [ 7] 2130 	LD	A,(HL)
      00BB86 23               [ 6] 2131 	INC	HL
      00BB87 E5               [11] 2132 	PUSH	HL
      00BB88 CD 90 BB         [17] 2133 	CALL	OTOCAL
      00BB8B CD 6E BB         [17] 2134 	CALL	ENVPST
      00BB8E E1               [10] 2135 	POP	HL
      00BB8F C9               [10] 2136 	RET
      00BB90                       2137 OTOCAL:
      00BB90 21 C9 C0         [10] 2138 	LD	HL,#SSGDAT
      00BB93 87               [ 4] 2139 	ADD	A,A
      00BB94 4F               [ 4] 2140 	LD	C,A
      00BB95 87               [ 4] 2141 	ADD	A,A
      00BB96 81               [ 4] 2142 	ADD	A,C	;*6
      00BB97 5F               [ 4] 2143 	LD	E,A
      00BB98 16 00            [ 7] 2144 	LD	D,#0
      00BB9A 19               [11] 2145 	ADD	HL,DE
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 40.
Hexadecimal [24-Bits]



      00BB9B C9               [10] 2146 	RET
                                   2147 	
                                   2148 ; **	SSG VOLUME UP & DOWN	**
                                   2149 	
      00BB9C                       2150 VOLUPS:
      00BB9C 56               [ 7] 2151 	LD	D,(HL)
      00BB9D 23               [ 6] 2152 	INC	HL
                                   2153 	
      00BB9E DD CB 21 7E      [20] 2154 	BIT	7,33(IX)
      00BBA2 C0               [11] 2155 	RET	NZ
                                   2156 	
      00BBA3 DD 7E 06         [19] 2157 	LD	A,6(IX)
      00BBA6 5F               [ 4] 2158 	LD	E,A
      00BBA7 E6 0F            [ 7] 2159 	AND	#0b00001111
      00BBA9 82               [ 4] 2160 	ADD	A,D
      00BBAA FE 10            [ 7] 2161 	CP	#16
      00BBAC D0               [11] 2162 	RET	NC
      00BBAD 57               [ 4] 2163 	LD	D,A
      00BBAE 7B               [ 4] 2164 	LD	A,E
      00BBAF E6 F0            [ 7] 2165 	AND	#0b11110000
      00BBB1 B2               [ 4] 2166 	OR	D
      00BBB2 DD 77 06         [19] 2167 	LD	6(IX),A
      00BBB5 C9               [10] 2168 	RET
                                   2169 	
                                   2170 	
                                   2171 ; **	PSG VOLUME	**
                                   2172 	
      00BBB6                       2173 PSGVOL:
      00BBB6 DD CB 21 BE      [23] 2174 	RES	7,33(IX)	; RES HARD ENV FLAG
                                   2175 	
      00BBBA DD 7E 06         [19] 2176 	LD	A,6(IX)
      00BBBD E6 F0            [ 7] 2177 	AND	#0b11110000
      00BBBF 5F               [ 4] 2178 	LD	E,A
      00BBC0 4E               [ 7] 2179 	LD	C,(HL)
      00BBC1                       2180 PV1:
      00BBC1 3A 79 BE         [13] 2181 	LD	A,(TOTALV)
      00BBC4 81               [ 4] 2182 	ADD	A,C
      00BBC5 FE 10            [ 7] 2183 	CP	#16
      00BBC7 38 01            [12] 2184 	JR	C,PV2
      00BBC9 AF               [ 4] 2185 	XOR	A
      00BBCA                       2186 PV2:
      00BBCA B3               [ 4] 2187 	OR	E
      00BBCB 23               [ 6] 2188 	INC	HL
      00BBCC DD 77 06         [19] 2189 	LD	6(IX),A
      00BBCF C9               [10] 2190 	RET
                                   2191 	
                                   2192 ; **	SSG ALL SOUND OFF	**
                                   2193 	
      00BBD0                       2194 SSGOFF:
      00BBD0 06 03            [ 7] 2195 	LD	B,#3
      00BBD2 16 08            [ 7] 2196 	LD	D,#8
      00BBD4 1E 00            [ 7] 2197 	LD	E,#0
      00BBD6                       2198 SSGOF1:
      00BBD6 CD 3F B4         [17] 2199 	CALL	PSGOUT
      00BBD9 14               [ 4] 2200 	INC	D
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 41.
Hexadecimal [24-Bits]



      00BBDA 10 FA            [13] 2201 	DJNZ	SSGOF1
      00BBDC C9               [10] 2202 	RET
                                   2203 	
                                   2204 ; **   SSG KEY OFF   **
                                   2205 	
      00BBDD                       2206 SKYOFF:
      00BBDD AF               [ 4] 2207 	XOR	A
      00BBDE DD 77 06         [19] 2208 	LD	6(IX),A	; ENVE FLAG RESET
                                   2209 	
      00BBE1 5F               [ 4] 2210 	LD	E,A
      00BBE2 DD 56 07         [19] 2211 	LD	D,7(IX)
      00BBE5 CD 3F B4         [17] 2212 	CALL	PSGOUT
      00BBE8 C9               [10] 2213 	RET
                                   2214 	
                                   2215 	
                                   2216 ; **	SOFT ENVEROPE PROCESS	**
                                   2217 	
      00BBE9                       2218 SOFENV:
      00BBE9 DD CB 06 66      [20] 2219 	BIT	4,6(IX)	; CHECK ATTACK FLAG
      00BBED 28 1C            [12] 2220 	JR	Z,SOFEV2
                                   2221 	
      00BBEF DD 7E 0B         [19] 2222 	LD	A,11(IX)
      00BBF2 DD 56 0D         [19] 2223 	LD	D,13(IX)
      00BBF5 82               [ 4] 2224 	ADD	A,D
      00BBF6 30 02            [12] 2225 	JR	NC,SOFEV1
      00BBF8 3E FF            [ 7] 2226 	LD	A,#0xFF
      00BBFA                       2227 SOFEV1:
      00BBFA FE FF            [ 7] 2228 	CP	#0xFF
      00BBFC DD 77 0B         [19] 2229 	LD	11(IX),A
      00BBFF 20 5D            [12] 2230 	JR	NZ,SOFEV7
                                   2231 	
      00BC01 DD 7E 06         [19] 2232 	LD	A,6(IX)
      00BC04 EE 30            [ 7] 2233 	XOR	#0b00110000
      00BC06 DD 77 06         [19] 2234 	LD	6(IX),A	; TO STATE 2 (DECAY)
      00BC09 18 53            [12] 2235 	JR	SOFEV7
                                   2236 	
      00BC0B                       2237 SOFEV2:
      00BC0B DD CB 06 6E      [20] 2238 	BIT	5,6(IX)
      00BC0F 28 20            [12] 2239 	JR	Z,SOFEV4
                                   2240 	
      00BC11 DD 7E 0B         [19] 2241 	LD	A,11(IX)
      00BC14 DD 56 0E         [19] 2242 	LD	D,14(IX)	; GET DECAY
      00BC17 DD 5E 0F         [19] 2243 	LD	E,15(IX)	; GET SUSTAIN
                                   2244 	
      00BC1A 92               [ 4] 2245 	SUB	D
      00BC1B 38 03            [12] 2246 	JR	C,SOFEV8
      00BC1D BB               [ 4] 2247 	CP	E
      00BC1E 30 01            [12] 2248 	JR	NC,SOFEV3
      00BC20                       2249 SOFEV8:
      00BC20 7B               [ 4] 2250 	LD	A,E
      00BC21                       2251 SOFEV3:
      00BC21 BB               [ 4] 2252 	CP	E
      00BC22 DD 77 0B         [19] 2253 	LD	11(IX),A
      00BC25 20 37            [12] 2254 	JR	NZ,SOFEV7
      00BC27 DD 7E 06         [19] 2255 	LD	A,6(IX)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 42.
Hexadecimal [24-Bits]



      00BC2A EE 60            [ 7] 2256 	XOR	#0b01100000
      00BC2C DD 77 06         [19] 2257 	LD	6(IX),A	; TO STATE 3 (SUSTAIN)
      00BC2F 18 2D            [12] 2258 	JR	SOFEV7
                                   2259 	
      00BC31                       2260 SOFEV4:
      00BC31 DD CB 06 76      [20] 2261 	BIT	6,6(IX)
      00BC35 28 1A            [12] 2262 	JR	Z,SOFEV9
                                   2263 	
      00BC37 DD 7E 0B         [19] 2264 	LD	A,11(IX)
      00BC3A DD 56 10         [19] 2265 	LD	D,16(IX)	;  GET SUSTAIN LEVEL
      00BC3D 92               [ 4] 2266 	SUB	D
      00BC3E 30 01            [12] 2267 	JR	NC,SOFEV5
      00BC40 AF               [ 4] 2268 	XOR	A
                                   2269 	
      00BC41                       2270 SOFEV5:
      00BC41 B7               [ 4] 2271 	OR	A
      00BC42 DD 77 0B         [19] 2272 	LD	11(IX),A
      00BC45 20 17            [12] 2273 	JR	NZ,SOFEV7
      00BC47 DD 7E 06         [19] 2274 	LD	A,6(IX)
      00BC4A E6 8F            [ 7] 2275 	AND	#0b10001111
      00BC4C DD 77 06         [19] 2276 	LD	6(IX),A	; END OF ENVE
      00BC4F 18 0D            [12] 2277 	JR	SOFEV7
                                   2278 	
      00BC51                       2279 SOFEV9:
      00BC51 DD 7E 0B         [19] 2280 	LD	A,11(IX)
      00BC54 DD 56 11         [19] 2281 	LD	D,17(IX)    ; GET REREASE
      00BC57 92               [ 4] 2282 	SUB	D
      00BC58 30 01            [12] 2283 	JR	NC,SOFEVA
      00BC5A AF               [ 4] 2284 	XOR	A
      00BC5B                       2285 SOFEVA:
      00BC5B DD 77 0B         [19] 2286 	LD	11(IX),A
                                   2287 	
                                   2288 ; **	VOLUME CALCURATE	**
                                   2289 	
      00BC5E                       2290 SOFEV7:
      00BC5E E5               [11] 2291 	PUSH	HL
      00BC5F DD 5E 0B         [19] 2292 	LD	E,11(IX)
      00BC62 16 00            [ 7] 2293 	LD	D,#0
      00BC64 21 00 00         [10] 2294 	LD	HL,#0
      00BC67 DD 7E 06         [19] 2295 	LD	A,6(IX)	; GET VOLUME
      00BC6A E6 0F            [ 7] 2296 	AND	#0b00001111
      00BC6C 3C               [ 4] 2297 	INC	A
      00BC6D 47               [ 4] 2298 	LD	B,A
      00BC6E                       2299 SOFEV6:
      00BC6E 19               [11] 2300 	ADD	HL,DE
      00BC6F 10 FD            [13] 2301 	DJNZ	SOFEV6
      00BC71 7C               [ 4] 2302 	LD	A,H
      00BC72 E1               [10] 2303 	POP	HL
      00BC73 DD CB 1F 76      [20] 2304 	BIT	6,31(IX)
      00BC77 C0               [11] 2305 	RET	NZ
      00BC78 DD CB 21 6E      [20] 2306 	BIT	5,33(IX)
      00BC7C C8               [11] 2307 	RET	Z
      00BC7D DD 86 11         [19] 2308 	ADD	A,17(IX)
      00BC80 CB 3F            [ 8] 2309 	SRL	A
      00BC82 C9               [10] 2310 	RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 43.
Hexadecimal [24-Bits]



                                   2311 	
                                   2312 ; **	�ݿ� ���	**
                                   2313 	
      00BC83                       2314 FMEND:
      00BC83 DD 75 02         [19] 2315 	LD	2(IX),L
      00BC86 DD 74 03         [19] 2316 	LD	3(IX),H
      00BC89 3A 79 C0         [13] 2317 	LD	A,(PCMFLG)
      00BC8C B7               [ 4] 2318 	OR	A
      00BC8D 20 04            [12] 2319 	JR	NZ,PCMEND
      00BC8F CD DD B3         [17] 2320 	CALL	KEYOFF
      00BC92 C9               [10] 2321 	RET
      00BC93                       2322 PCMEND:
      00BC93 11 00 0B         [10] 2323 	LD	DE,#0x0B00
      00BC96 CD 1F BE         [17] 2324 	CALL	PCMOUT
      00BC99 11 00 01         [10] 2325 	LD	DE,#0x0100
      00BC9C CD 1F BE         [17] 2326 	CALL	PCMOUT
      00BC9F 11 21 00         [10] 2327 	LD	DE,#0x0021
      00BCA2 CD 1F BE         [17] 2328 	CALL	PCMOUT
      00BCA5 C9               [10] 2329 	RET
      00BCA6                       2330 SSGEND:
      00BCA6 DD 75 02         [19] 2331 	LD	2(IX),L
      00BCA9 DD 74 03         [19] 2332 	LD	3(IX),H
      00BCAC CD DD BB         [17] 2333 	CALL	SKYOFF
      00BCAF DD CB 1F BE      [23] 2334 	RES	7,31(IX)	; RESET LFO FLAG
      00BCB3 C9               [10] 2335 	RET
                                   2336 	
                                   2337 	
                                   2338 ; **   VOLUME OR FADEOUT etc RESET   **
                                   2339 	
      00BCB4                       2340 WORKINIT:
      00BCB4 AF               [ 4] 2341 	XOR	A
      00BCB5 32 6C C0         [13] 2342 	LD	(C2NUM),A
      00BCB8 32 6B C0         [13] 2343 	LD	(CHNUM),A
      00BCBB 32 74 BE         [13] 2344 	LD	(PVMODE),A
                                   2345 	
      00BCBE 3A 00 C2         [13] 2346 	LD	A,(MUSNUM)
      00BCC1 21 05 C2         [10] 2347 	LD	HL,#MU_TOP
      00BCC4                       2348 WI1:
      00BCC4 11 2C 00         [10] 2349 	LD	DE,#MAXCH*4
      00BCC7 B7               [ 4] 2350 	OR	A
      00BCC8 28 0C            [12] 2351 	JR	Z,WI2
      00BCCA 23               [ 6] 2352 	INC	HL
      00BCCB 19               [11] 2353 	ADD	HL,DE
      00BCCC 5E               [ 7] 2354 	LD	E,(HL)
      00BCCD 23               [ 6] 2355 	INC	HL
      00BCCE 56               [ 7] 2356 	LD	D,(HL)
      00BCCF 21 05 C2         [10] 2357 	LD	HL,#MU_TOP
      00BCD2 19               [11] 2358 	ADD	HL,DE
      00BCD3 3D               [ 4] 2359 	DEC	A
      00BCD4 18 EE            [12] 2360 	JR	WI1
      00BCD6                       2361 WI2:
      00BCD6 7E               [ 7] 2362 	LD	A,(HL)
      00BCD7 32 6F C0         [13] 2363 	LD	(TIMER_B),A
      00BCDA 23               [ 6] 2364 	INC	HL
      00BCDB 22 6D C0         [16] 2365 	LD	(TB_TOP),HL
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 44.
Hexadecimal [24-Bits]



                                   2366 	
      00BCDE 06 06            [ 7] 2367 	LD	B,#6
      00BCE0 DD 21 A6 BE      [14] 2368 	LD	IX,#CH1DAT
      00BCE4                       2369 WI4:
      00BCE4 C5               [11] 2370 	PUSH	BC
      00BCE5 CD 12 BD         [17] 2371 	CALL	FMINIT
      00BCE8 11 26 00         [10] 2372 	LD	DE,#WKLENG
      00BCEB DD 19            [15] 2373 	ADD	IX,DE
      00BCED C1               [10] 2374 	POP	BC
      00BCEE 10 F4            [13] 2375 	DJNZ	WI4
                                   2376 	
      00BCF0 AF               [ 4] 2377 	XOR	A
      00BCF1 32 6B C0         [13] 2378 	LD	(CHNUM),A
      00BCF4 DD 21 8A BF      [14] 2379 	LD	IX,#DRAMDAT
      00BCF8 CD 12 BD         [17] 2380 	CALL	FMINIT
                                   2381 	
      00BCFB AF               [ 4] 2382 	XOR	A
      00BCFC 32 6B C0         [13] 2383 	LD	(CHNUM),A
      00BCFF 06 04            [ 7] 2384 	LD	B,#4
      00BD01 DD 21 B0 BF      [14] 2385 	LD	IX,#CHADAT
      00BD05                       2386 WI6:
      00BD05 C5               [11] 2387 	PUSH	BC
      00BD06 CD 12 BD         [17] 2388 	CALL	FMINIT
      00BD09 11 26 00         [10] 2389 	LD	DE,#WKLENG
      00BD0C DD 19            [15] 2390 	ADD	IX,DE
      00BD0E C1               [10] 2391 	POP	BC
      00BD0F 10 F4            [13] 2392 	DJNZ	WI6
      00BD11 C9               [10] 2393 	RET
                                   2394 	
                                   2395 	
      00BD12                       2396 FMINIT:
      00BD12 DD E5            [15] 2397 	PUSH	IX
      00BD14 E1               [10] 2398 	POP	HL
      00BD15 5D               [ 4] 2399 	LD	E,L
      00BD16 54               [ 4] 2400 	LD	D,H
      00BD17 13               [ 6] 2401 	INC	DE
      00BD18 36 00            [10] 2402 	LD	(HL),#0
      00BD1A 01 25 00         [10] 2403 	LD	BC,#WKLENG-1
      00BD1D ED B0            [21] 2404 	LDIR
                                   2405 	
      00BD1F DD 36 00 01      [19] 2406 	LD	(IX),#1
      00BD23 DD 36 06 00      [19] 2407 	LD	6(IX),#0
                                   2408 	
                                   2409 ; ---	POINTER � ����ò	---
                                   2410 	
      00BD27 2A 6D C0         [16] 2411 	LD	HL,(TB_TOP)	; HL=TABLE TOP ADR (Ch)
                                   2412 	
      00BD2A 5E               [ 7] 2413 	LD	E,(HL)
      00BD2B 23               [ 6] 2414 	INC	HL
      00BD2C 56               [ 7] 2415 	LD	D,(HL)
      00BD2D 23               [ 6] 2416 	INC	HL
      00BD2E E5               [11] 2417 	PUSH	HL
      00BD2F 21 05 C2         [10] 2418 	LD	HL,#MU_TOP
      00BD32 19               [11] 2419 	ADD	HL,DE
      00BD33 DD 75 02         [19] 2420 	LD	2(IX),L
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 45.
Hexadecimal [24-Bits]



      00BD36 DD 74 03         [19] 2421 	LD	3(IX),H
      00BD39 E1               [10] 2422 	POP	HL
      00BD3A 5E               [ 7] 2423 	LD	E,(HL)
      00BD3B 23               [ 6] 2424 	INC	HL
      00BD3C 56               [ 7] 2425 	LD	D,(HL)
      00BD3D 7B               [ 4] 2426 	LD	A,E
      00BD3E B2               [ 4] 2427 	OR	D
      00BD3F 28 0A            [12] 2428 	JR	Z,FMI2
      00BD41 21 05 C2         [10] 2429 	LD	HL,#MU_TOP
      00BD44 19               [11] 2430 	ADD	HL,DE
      00BD45 DD 75 04         [19] 2431 	LD	4(IX),L
      00BD48 DD 74 05         [19] 2432 	LD	5(IX),H
      00BD4B                       2433 FMI2:
      00BD4B 21 6C C0         [10] 2434 	LD	HL,#C2NUM
      00BD4E 34               [11] 2435 	INC	(HL)
      00BD4F 2A 6D C0         [16] 2436 	LD	HL,(TB_TOP)
      00BD52 11 04 00         [10] 2437 	LD	DE,#4
      00BD55 19               [11] 2438 	ADD	HL,DE
      00BD56 22 6D C0         [16] 2439 	LD	(TB_TOP),HL
                                   2440 	
      00BD59 3A 6B C0         [13] 2441 	LD	A,(CHNUM)
      00BD5C FE 03            [ 7] 2442 	CP	#3
      00BD5E 30 08            [12] 2443 	JR	NC,SSINIT
                                   2444 	
      00BD60 DD 77 08         [19] 2445 	LD	8(IX),A
      00BD63 3C               [ 4] 2446 	INC	A
      00BD64 32 6B C0         [13] 2447 	LD	(CHNUM),A
      00BD67 C9               [10] 2448 	RET
                                   2449 	
                                   2450 ; ---   FOR SSG   ---
                                   2451 	
      00BD68                       2452 SSINIT:
      00BD68 C6 05            [ 7] 2453 	ADD	A,#5
      00BD6A DD 77 07         [19] 2454 	LD	7(IX),A
      00BD6D 3A 6B C0         [13] 2455 	LD	A,(CHNUM)
      00BD70 D6 03            [ 7] 2456 	SUB	A,#3
      00BD72 87               [ 4] 2457 	ADD	A,A
      00BD73 DD 77 08         [19] 2458 	LD	8(IX),A
                                   2459 	
      00BD76 3A 6B C0         [13] 2460 	LD	A,(CHNUM)
      00BD79 3C               [ 4] 2461 	INC	A
      00BD7A 32 6B C0         [13] 2462 	LD	(CHNUM),A
      00BD7D C9               [10] 2463 	RET
                                   2464 	
                                   2465 	
                                   2466 ; **	CHANGE SE MODE	**
                                   2467 	
      00BD7E                       2468 TO_NML:
      00BD7E 3E 38            [ 7] 2469 	LD	A,#0x38
      00BD80 32 A7 B1         [13] 2470 	LD	(PLSET1+1),A
      00BD83 3E 3A            [ 7] 2471 	LD	A,#0x3A
      00BD85                       2472 TNML2:
      00BD85 32 AE B1         [13] 2473 	LD	(PLSET2+1),A
      00BD88 16 27            [ 7] 2474 	LD	D,#0x27
      00BD8A 5F               [ 4] 2475 	LD	E,A
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 46.
Hexadecimal [24-Bits]



      00BD8B CD 3F B4         [17] 2476 	CALL	PSGOUT
      00BD8E C9               [10] 2477 	RET
      00BD8F                       2478 TO_EFC:
      00BD8F 3E 78            [ 7] 2479 	LD	A,#0x78
      00BD91 32 A7 B1         [13] 2480 	LD	(PLSET1+1),A
      00BD94 3E 7A            [ 7] 2481 	LD	A,#0x7A
      00BD96 18 ED            [12] 2482 	JR	TNML2
                                   2483 	
                                   2484 	
                                   2485 ; ***	ADPCM	PLAY	***
                                   2486 	
                                   2487 	;	IN:(STTADR)<=���� ���� ���ڽ
                                   2488 	;	   (ENDADR)  <=���� ���� ���ڽ
                                   2489 	;	   (DELT_N)<=���� ڰ�
                                   2490 	
      00BD98                       2491 PLAY:
      00BD98 E5               [11] 2492 	PUSH	HL
                                   2493 	
      00BD99 11 00 0B         [10] 2494 	LD	DE,#0x0B00
      00BD9C CD 1F BE         [17] 2495 	CALL	PCMOUT
      00BD9F 11 00 01         [10] 2496 	LD	DE,#0x0100
      00BDA2 CD 1F BE         [17] 2497 	CALL	PCMOUT
                                   2498 	
      00BDA5 11 21 00         [10] 2499 	LD	DE,#0x0021
      00BDA8 CD 1F BE         [17] 2500 	CALL	PCMOUT
      00BDAB 11 08 10         [10] 2501 	LD	DE,#0x1008	;
      00BDAE CD 1F BE         [17] 2502 	CALL	PCMOUT		;
      00BDB1 11 80 10         [10] 2503 	LD	DE,#0x1080	;
      00BDB4 CD 1F BE         [17] 2504 	CALL	PCMOUT		; INIT
                                   2505 	
      00BDB7 2A 72 C0         [16] 2506 	LD	HL,(STTADR)
      00BDBA 16 02            [ 7] 2507 	LD	D,#2
      00BDBC 5D               [ 4] 2508 	LD	E,L
      00BDBD CD 1F BE         [17] 2509 	CALL	PCMOUT		; START ADR
      00BDC0 14               [ 4] 2510 	INC	D
      00BDC1 5C               [ 4] 2511 	LD	E,H
      00BDC2 CD 1F BE         [17] 2512 	CALL	PCMOUT
                                   2513 	
      00BDC5 2A 74 C0         [16] 2514 	LD	HL,(ENDADR)
      00BDC8 16 04            [ 7] 2515 	LD	D,#4
      00BDCA 5D               [ 4] 2516 	LD	E,L
      00BDCB CD 1F BE         [17] 2517 	CALL	PCMOUT		; END ADR
      00BDCE 14               [ 4] 2518 	INC	D
      00BDCF 5C               [ 4] 2519 	LD	E,H
      00BDD0 CD 1F BE         [17] 2520 	CALL	PCMOUT
                                   2521 	
      00BDD3 16 09            [ 7] 2522 	LD	D,#0x09
      00BDD5 3A 76 C0         [13] 2523 	LD	A,(DELT_N)	; ���� ڰ� ��
      00BDD8 5F               [ 4] 2524 	LD	E,A
      00BDD9 CD 1F BE         [17] 2525 	CALL	PCMOUT
      00BDDC 16 0A            [ 7] 2526 	LD	D,#0x0A
      00BDDE 3A 77 C0         [13] 2527 	LD	A,(DELT_N+1)	; ���� ڰ� �ޮ��
      00BDE1 5F               [ 4] 2528 	LD	E,A
      00BDE2 CD 1F BE         [17] 2529 	CALL	PCMOUT
                                   2530 	
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 47.
Hexadecimal [24-Bits]



      00BDE5 11 A0 00         [10] 2531 	LD	DE,#0x00A0
      00BDE8 CD 1F BE         [17] 2532 	CALL	PCMOUT
                                   2533 	
      00BDEB 16 0B            [ 7] 2534 	LD	D,#0x0B
      00BDED DD 5E 06         [19] 2535 	LD	E,6(IX)
      00BDF0 3A 79 BE         [13] 2536 	LD	A,(TOTALV)
                                   2537 ;.ds 2048
      00BDF3 87               [ 4] 2538 	ADD	A,A
      00BDF4 87               [ 4] 2539 	ADD	A,A
      00BDF5 83               [ 4] 2540 	ADD	A,E
      00BDF6 FE FA            [ 7] 2541 	CP	#250
      00BDF8 38 01            [12] 2542 	JR	C,PL1
      00BDFA AF               [ 4] 2543 	XOR	A
      00BDFB                       2544 PL1:
      00BDFB 5F               [ 4] 2545 	LD	E,A
      00BDFC 3A 74 BE         [13] 2546 	LD	A,(PVMODE)
      00BDFF B7               [ 4] 2547 	OR	A
      00BE00 28 05            [12] 2548 	JR	Z,PL2
      00BE02 DD 7E 07         [19] 2549 	LD	A,7(IX); (IX+7)
      00BE05 83               [ 4] 2550 	ADD	A,E
      00BE06 5F               [ 4] 2551 	LD	E,A
      00BE07                       2552 PL2:
      00BE07 CD 1F BE         [17] 2553 	CALL	PCMOUT		; VOLUME
                                   2554 	
      00BE0A 16 01            [ 7] 2555 	LD	D,#1
      00BE0C 3A A5 BE         [13] 2556 	LD	A,(PCMLR)
      00BE0F 0F               [ 4] 2557 	RRCA
      00BE10 0F               [ 4] 2558 	RRCA
      00BE11 E6 C0            [ 7] 2559 	AND	#0b11000000
      00BE13 5F               [ 4] 2560 	LD	E,A
      00BE14 CD 1F BE         [17] 2561 	CALL	PCMOUT		; 1 bit TYPE,L&R OUT
                                   2562 	
      00BE17 3A 78 C0         [13] 2563 	LD	A,(PCMNUM)
      00BE1A 32 75 BE         [13] 2564 	LD	(P_OUT),A	; �ݺ޳�޽
                                   2565 	
      00BE1D E1               [10] 2566 	POP	HL
      00BE1E C9               [10] 2567 	RET
                                   2568 	
                                   2569 	
                                   2570 ; ***	ADPCM	OUT	***
                                   2571 	
      00BE1F                       2572 PCMOUT:
      00BE1F C5               [11] 2573 	PUSH	BC
                                   2574 	
      00BE20 3A 78 BE         [13] 2575 	LD	A,(PORT13+1)
      00BE23 4F               [ 4] 2576 	LD	C,A
      00BE24                       2577 PCMO2:
      00BE24 ED 78            [12] 2578 	IN	A,(C)
      00BE26 FA 24 BE         [10] 2579 	JP	M,PCMO2
                                   2580 	
      00BE29 ED 51            [12] 2581 	OUT	(C),D
      00BE2B                       2582 PCMO3:
      00BE2B ED 78            [12] 2583 	IN	A,(C)
      00BE2D FA 2B BE         [10] 2584 	JP	M,PCMO3
      00BE30 0C               [ 4] 2585 	INC	C
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 48.
Hexadecimal [24-Bits]



                                   2586 	
      00BE31 ED 59            [12] 2587 	OUT	(C),E
                                   2588 	
      00BE33 C1               [10] 2589 	POP	BC
      00BE34 C9               [10] 2590 	RET
                                   2591 	
                                   2592 	
                                   2593 ; **	�غ� ��ò/�ް�� ���� ���	**
                                   2594 	
      00BE35                       2595 CHK:
      00BE35 AF               [ 4] 2596 	XOR	A
      00BE36 32 73 BE         [13] 2597 	LD	(NOTSB2),A
                                   2598 	
      00BE39 21 7B C0         [10] 2599 	LD	HL,#TYPE1
      00BE3C 11 76 BE         [10] 2600 	LD	DE,#M_VECTR
      00BE3F ED A0            [16] 2601 	LDI
      00BE41 ED A0            [16] 2602 	LDI
      00BE43 ED A0            [16] 2603 	LDI
                                   2604 	
      00BE45 0E 44            [ 7] 2605 	LD	C,#0x44
      00BE47 CD 68 BE         [17] 2606 	CALL	STT1
      00BE4A 3D               [ 4] 2607 	DEC	A
      00BE4B 28 25            [12] 2608 	JR	Z,STTE
      00BE4D 0E A8            [ 7] 2609 	LD	C,#0xA8
      00BE4F CD 68 BE         [17] 2610 	CALL	STT1
      00BE52 3D               [ 4] 2611 	DEC	A
      00BE53 28 05            [12] 2612 	JR	Z,STT2
      00BE55 32 73 BE         [13] 2613 	LD	(NOTSB2),A
      00BE58 18 18            [12] 2614 	JR	STTE
      00BE5A                       2615 STT2:
      00BE5A 21 7E C0         [10] 2616 	LD	HL,#TYPE2
      00BE5D 11 76 BE         [10] 2617 	LD	DE,#M_VECTR
      00BE60 ED A0            [16] 2618 	LDI
      00BE62 ED A0            [16] 2619 	LDI
      00BE64 ED A0            [16] 2620 	LDI
      00BE66 18 0A            [12] 2621 	JR	STTE
                                   2622 	
                                   2623 ; --	CHECK BORD TYPE	--
                                   2624 	
      00BE68                       2625 STT1:
      00BE68 3E FF            [ 7] 2626 	LD	A,#0xFF
      00BE6A ED 79            [12] 2627 	OUT	(C),A
      00BE6C C5               [11] 2628 	PUSH	BC
      00BE6D C1               [10] 2629 	POP	BC
      00BE6E 03               [ 6] 2630 	INC	BC
      00BE6F ED 78            [12] 2631 	IN	A,(C)
      00BE71 C9               [10] 2632 	RET
                                   2633 	
      00BE72                       2634 STTE:
      00BE72 C9               [10] 2635 	RET
                                   2636 	
                                   2637 	
                                   2638 ; **	MUSIC WORK	**
                                   2639 	
      00BE73 00                    2640 NOTSB2:	.db	0	;(INFADR)
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 49.
Hexadecimal [24-Bits]



      00BE74 00                    2641 PVMODE:	.db	0	;PCMvolMODE
      00BE75 00                    2642 P_OUT:	.db	0
      00BE76 00                    2643 M_VECTR:.db	0	;32H OR AAH
      00BE77 00 00                 2644 PORT13:	.dw	0	;44H OR A8H
      00BE79 00                    2645 TOTALV:	.db	0
      00BE7A 00 00                 2646 FDCO:	.db	0,0
                                   2647 	
      00BE7C                       2648 SSGF1:			;  SSG 4-6CH  PLAY FLAG
      00BE7C 00                    2649 	.db	0
      00BE7D 00                    2650 DRMF1:	.db	0
      00BE7E 00                    2651 KEYBUF:	.db	0
      00BE7F 00                    2652 FMPORT:	.db	0
      00BE80 00 00                 2653 FNUM:	.dw	0
                                   2654 	
                                   2655 	
                                   2656 ; **	��ح�� �ް�   **
                                   2657 
      00BE82                       2658 FMVDAT:					; ��ح�� �ް� (FM)
      00BE82 36 33 30 2D           2659 	.db	0x36,0x33,0x30,0x2D
      00BE86 2A 28 25 22           2660 	.db	0x2A,0x28,0x25,0x22		;  0,  1,  2,  3
      00BE8A 20 1D 1A 18           2661 	.db	0x20,0x1D,0x1A,0x18		;  4,  5,  6,  7
      00BE8E 15 12 10 0D           2662 	.db	0x15,0x12,0x10,0x0D		;  8,  9, 10, 11
      00BE92 0A 08 05 02           2663 	.db	0x0A,#0x8,0x05,0x02	; 12, 13, 14, 15
                                   2664 
      00BE96                       2665 CRYDAT:			; ��ر / Ӽޭڰ� � �ް�
      00BE96 08                    2666 	.db	#0x8	;
      00BE97 08                    2667 	.db	#0x8	; �� �ޯ� �� ��ر/Ӽޭڰ� � ��ܽ
      00BE98 08                    2668 	.db	#0x8	;
      00BE99 08                    2669 	.db	#0x8	; Bit=1 �� ��ر
      00BE9A 0C                    2670 	.db	0x0C	;      0 �� Ӽޭڰ�
      00BE9B 0E                    2671 	.db	0x0E	;
      00BE9C 0E                    2672 	.db	0x0E	; Bit0=OP 1 , Bit1=OP 2 ... etc
      00BE9D 0F                    2673 	.db	0x0F	;
                                   2674 	
                                   2675 ; **	PMS/AMS/LR DATA	**
                                   2676 	
      00BE9E                       2677 PALDAT:
      00BE9E C0                    2678 	.db	#0xC0
      00BE9F C0                    2679 	.db	#0xC0
      00BEA0 C0                    2680 	.db	#0xC0
      00BEA1 00                    2681 	.db	0	; DUMMY
      00BEA2 C0                    2682 	.db	#0xC0
      00BEA3 C0                    2683 	.db	#0xC0
      00BEA4 C0                    2684 	.db	#0xC0
      00BEA5                       2685 PCMLR:
      00BEA5 00                    2686 	.db	0
                                   2687 	
                                   2688 ; **	SOUND WORK (FM)	**
      00BEA6                       2689 CH1DAT:
      00BEA6 01                    2690 	.db	1	; LENGTH ctr		IX+ 0
      00BEA7 18                    2691 	.db	24	; �ݼ�� ���ް		1
      00BEA8 00 00                 2692 	.dw	0	; DATA ADDRES WORK	2,3
      00BEAA 00 00                 2693 	.dw	0	; DATA TOP ADDRES	4,5
      00BEAC 0A                    2694 	.db	10	; VOLUME DATA		6
      00BEAD 00                    2695 	.db	0	; �ٺ�ؽ�� No.		7
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 50.
Hexadecimal [24-Bits]



      00BEAE 00                    2696 	.db	0	; channel num          	8
      00BEAF 00 00                 2697 	.dw	0	; detune DATA		9,10
      00BEB1 00                    2698 	.db	0	; for TLLFO		11
      00BEB2 00                    2699 	.db	0	; for reverb		12
      00BEB3                       2700 	.ds	5	; SOFT ENVE DUMMY	13-17
      00BEB8 00                    2701 	.db	0	; q������		18
                                   2702 
      00BEB9 00                    2703 	.db	0	; LFO DELAY		19
      00BEBA 00                    2704 	.db	0	; WORK			20
      00BEBB 00                    2705 	.db	0	; LFO COUNTER		21
      00BEBC 00                    2706 	.db	0	; WORK			22
      00BEBD 00 00                 2707 	.dw	0	; LFO �ݶخ� 2BYTE	23,24
      00BEBF 00 00                 2708 	.dw	0	; WORK			25,26
                                   2709 
      00BEC1 00                    2710 	.db	0	; LFO PEAK LEVEL	27
      00BEC2 00                    2711 	.db	0	; WORK			28
      00BEC3 00                    2712 	.db	0	; FNUM1 DATA		29
      00BEC4 00                    2713 	.db	0	; B/FNUM2 DATA		30
      00BEC5 01                    2714 	.db	0b00000001	;bit 7=LFO FLAG	31
                                   2715 	
                                   2716 			; bit	6=KEYOFF FLAG
                                   2717 			;	5=LFO CONTINUE FLAG
                                   2718 			;	4=TIE FLAG
                                   2719 			;	3=MUTE FLAG
                                   2720 			;	2=LFO 1SHOT FLAG
                                   2721 			;
                                   2722 			;	0=1LOOPEND FLAG
      00BEC6 00                    2723 	.db 	0	; BEFORE CODE		32
      00BEC7 00                    2724 	.db	0	; bit	6=TL LFO FLAG     33
                                   2725 			;	5=REVERVE FLAG
                                   2726 			;	4=REVERVE MODE
      00BEC8 00 00                 2727 	.dw	0	;	return address	34,35
      00BECA 00 00                 2728 	.db	0,0     ; 36,37 (empty)
      00BECC                       2729 CH2DAT:
      00BECC 01                    2730 	.db	1
      00BECD 18                    2731 	.db	24
      00BECE 00 00                 2732 	.dw	0x0000
      00BED0 00 00                 2733 	.dw	0x0000
      00BED2 0A                    2734 	.db	10
      00BED3 00                    2735 	.db	0
      00BED4 01                    2736 	.db	1
      00BED5 00 00                 2737 	.dw	0x0000
      00BED7                       2738 	.ds	7
      00BEDE 00                    2739 	.db	0	;18
                                   2740 
      00BEDF 00                    2741 	.db	0
      00BEE0 00                    2742 	.db	0
      00BEE1 00                    2743 	.db	0
      00BEE2 00                    2744 	.db	0
      00BEE3 00 00                 2745 	.dw	0
      00BEE5 00 00                 2746 	.dw	0
                                   2747 
      00BEE7 00                    2748 	.db	0
      00BEE8 00                    2749 	.db	0
      00BEE9 00                    2750 	.db	0
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 51.
Hexadecimal [24-Bits]



      00BEEA 00                    2751 	.db	0
      00BEEB 02                    2752 	.db	0b00000010
      00BEEC 00 00 00 00 00 00     2753 	.dw	0,0,0
      00BEF2                       2754 CH3DAT:
      00BEF2 01                    2755 	.db	1
      00BEF3 18                    2756 	.db	24
      00BEF4 00 00                 2757 	.dw	0x0000
      00BEF6 00 00                 2758 	.dw	0x0000
      00BEF8 0A                    2759 	.db	10
      00BEF9 00                    2760 	.db	0
      00BEFA 02                    2761 	.db	2
      00BEFB 00 00                 2762 	.dw	0x0000
      00BEFD                       2763 	.ds	7
      00BF04 00                    2764 	.db	0	;18
                                   2765 
      00BF05 00                    2766 	.db	0
      00BF06 00                    2767 	.db	0
      00BF07 00                    2768 	.db	0
      00BF08 00                    2769 	.db	0
      00BF09 00 00                 2770 	.dw	0
      00BF0B 00 00                 2771 	.dw	0
                                   2772 
      00BF0D 00                    2773 	.db	0
      00BF0E 00                    2774 	.db	0
      00BF0F 00                    2775 	.db	0
      00BF10 00                    2776 	.db	0
      00BF11 03                    2777 	.db	0b00000011
      00BF12 00 00 00 00 00 00     2778 	.dw	0,0,0
                                   2779 	
                                   2780 ; **	WORK (SSG)	**
                                   2781 
      00BF18                       2782 CH4DAT:
      00BF18 01                    2783 	.db	1	; COUNTER WORK		0
      00BF19 00                    2784 	.db	0	; �ݼ�� No.		1
      00BF1A 00 00                 2785 	.dw	0x0000	; DATA ADRS WORK	2,3
      00BF1C 00 00                 2786 	.dw	0x0000	; DATA TOP ADRS		4,5
      00BF1E 08                    2787 	.db	8	; CURENT VOLUME(bit0-3)	6
                                   2788 			; bit 4 = attack flag
                                   2789 			; bit 5 = decay flag
                                   2790 			; bit 6 = sustain flag
                                   2791 			; bit 7 = soft envelope flag
                                   2792 	
      00BF1F 08                    2793 	.db	8	; VOL.REG.No.		7
      00BF20 00                    2794 	.db	0       ; CHANNEL No.          	8
      00BF21 00 00                 2795 	.dw	0	; FOR DETUNE		9,10
      00BF23 00                    2796 	.db	0	; SOFT ENVE COUNTER	11
      00BF24                       2797 	.ds	6	; SOFT ENVE		12-17
                                   2798 	
      00BF2A 00                    2799 	.db	0	; COUNTER OF 'q'	18
                                   2800 	
      00BF2B 00                    2801 	.db	0	; LFO DELAY		19
      00BF2C 00                    2802 	.db	0	; WORK			20
      00BF2D 00                    2803 	.db	0	; LFO COUNTER		21
      00BF2E 00                    2804 	.db	0	; WORK			22
      00BF2F 00 00                 2805 	.dw	0	; LFO �ݶخ� 2BYTE	23,24
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 52.
Hexadecimal [24-Bits]



      00BF31 00 00                 2806 	.dw	0	; WORK			25,26
                                   2807 
      00BF33 00                    2808 	.db	0	; LFO PEAK LEVEL	27
      00BF34 00                    2809 	.db	0	; WORK			28
      00BF35 00                    2810 	.db	0	; FNUM1 DATA		29
      00BF36 00                    2811 	.db	0	; B/FNUM2 DATA		30
      00BF37 04                    2812 	.db	0b00000100	; bit 7=LFO FLAG	31
                                   2813 			; bit	6=KEYOFF FLAG
                                   2814 			; bit	5=LFO CONTINUE FLAG
                                   2815 			; bit	4=TIE FLAG
                                   2816 			;	3=MUTE FLAG
                                   2817 	
                                   2818 			;	0=1LOOPEND FG
      00BF38 00                    2819 	.db	0	; BEFORE CODE		32
      00BF39 00                    2820 	.db      0       ; bit 7 = HARD ENVE FLAG 33
                                   2821 			; bit 0-3 = HARD ENVE TYPE
      00BF3A 00 00                 2822 	.dw	0
      00BF3C 00 00                 2823 	.db	0,0
                                   2824 
      00BF3E                       2825 CH5DAT:
      00BF3E 01                    2826 	.db	1
      00BF3F 00                    2827 	.db	0
      00BF40 00 00                 2828 	.dw	0x0000
      00BF42 00 00                 2829 	.dw	0x0000
      00BF44 08                    2830 	.db	8
                                   2831 	
      00BF45 09                    2832 	.db	9
      00BF46 02                    2833 	.db	2
      00BF47 00 00                 2834 	.dw	0
      00BF49 00                    2835 	.db	0
      00BF4A                       2836 	.ds	6
                                   2837 	
      00BF50 00                    2838 	.db	0
                                   2839 	
      00BF51 00                    2840 	.db	0
      00BF52 00                    2841 	.db	0
      00BF53 00                    2842 	.db	0
      00BF54 00                    2843 	.db	0
      00BF55 00 00                 2844 	.dw	0
      00BF57 00 00                 2845 	.dw	0
                                   2846 	
      00BF59 00                    2847 	.db	0
      00BF5A 00                    2848 	.db	0
      00BF5B 00                    2849 	.db	0
      00BF5C 00                    2850 	.db	0
      00BF5D 05                    2851 	.db	0b00000101
      00BF5E 00 00 00 00 00 00     2852 	.dw	0,0,0
                                   2853 	
      00BF64                       2854 CH6DAT:
      00BF64 01                    2855 	.db	1
      00BF65 00                    2856 	.db	0
      00BF66 00 00                 2857 	.dw	0x0000
      00BF68 00 00                 2858 	.dw	0x0000
      00BF6A 08                    2859 	.db	8
                                   2860 	
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 53.
Hexadecimal [24-Bits]



      00BF6B 0A                    2861 	.db	10
      00BF6C 04                    2862 	.db	4
      00BF6D 00 00                 2863 	.dw	0
      00BF6F 00                    2864 	.db	0
      00BF70                       2865 	.ds	6
                                   2866 	
      00BF76 00                    2867 	.db	0
                                   2868 	
      00BF77 00                    2869 	.db	0
      00BF78 00                    2870 	.db	0
      00BF79 00                    2871 	.db	0
      00BF7A 00                    2872 	.db	0
      00BF7B 00 00                 2873 	.dw	0
      00BF7D 00 00                 2874 	.dw	0
                                   2875 	
      00BF7F 00                    2876 	.db	0
      00BF80 00                    2877 	.db	0
      00BF81 00                    2878 	.db	0
      00BF82 00                    2879 	.db	0
      00BF83 06                    2880 	.db	0b00000110
      00BF84 00 00 00 00 00 00     2881 	.dw	0,0,0
                                   2882 	
      00BF8A                       2883 DRAMDAT:
      00BF8A 01 00                 2884 	.db	1,0
      00BF8C 00 00 00 00           2885 	.dw	0,0
      00BF90 0A 00 02              2886 	.db	10,0,2
      00BF93 00 00                 2887 	.dw	0
      00BF95                       2888 	.ds	7
      00BF9C 00                    2889 	.db	0	;18
      00BF9D                       2890 	.ds	19
      00BFB0                       2891 CHADAT:
      00BFB0 01 00                 2892 	.db	1,0
      00BFB2 00 00 00 00           2893 	.dw	0,0
      00BFB6 0A 00 02              2894 	.db	10,0,2
      00BFB9 00 00                 2895 	.dw	0
      00BFBB                       2896 	.ds	7
      00BFC2 00                    2897 	.db	0	;18
      00BFC3                       2898 	.ds	19
      00BFD6                       2899 CHBDAT:
      00BFD6 01 00                 2900 	.db	1,0
      00BFD8 00 00 00 00           2901 	.dw	0,0
      00BFDC 0A 00 02              2902 	.db	10,0,2
      00BFDF 00 00                 2903 	.dw	0
      00BFE1                       2904 	.ds	7
      00BFE8 00                    2905 	.db	0	;18
      00BFE9                       2906 	.ds	19
      00BFFC                       2907 CHCDAT:
      00BFFC 01 00                 2908 	.db	1,0
      00BFFE 00 00 00 00           2909 	.dw	0,0
      00C002 0A 00 02              2910 	.db	10,0,2
      00C005 00 00                 2911 	.dw	0
      00C007                       2912 	.ds	7
      00C00E 00                    2913 	.db	0	;18
      00C00F                       2914 	.ds	19
      00C022                       2915 PCMDAT:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 54.
Hexadecimal [24-Bits]



      00C022 01 00                 2916 	.db	1,0
      00C024 00 00 00 00           2917 	.dw	0,0
      00C028 0A 00 02              2918 	.db	10,0,2
      00C02B 00 00                 2919 	.dw	0
      00C02D                       2920 	.ds	7
      00C034 00                    2921 	.db	0	;18
      00C035                       2922 	.ds	19
                                   2923 	
      00C048 00                    2924 RHYTHM:	.db	0
                                   2925 	
                           000026  2926 WKLENG .equ	CH2DAT-CH1DAT
                                   2927 	
                                   2928 ; **	PSG REGISTOR WORK	**
                                   2929 	
      00C049                       2930 PREGBF:
      00C049 00 00 00 00 00 00 00  2931 	.db	0,0,0,0,0,0,0,0,0
             00 00
      00C052                       2932 INITPM:
      00C052 00 00 00 00 00 38 00  2933 	.db	0,0,0,0,0,56,0,0,0
             00 00
                                   2934 	
                                   2935 ; **	SE MODE(MODE2) detune workram	**
                                   2936 
      00C05B                       2937 DETDAT:
      00C05B 00                    2938 	.db	0	;		OP1
      00C05C 00                    2939 	.db	0	;		OP2
      00C05D 00                    2940 	.db	0	;		  3
      00C05E 00                    2941 	.db	0	;		  4
                                   2942 	
                                   2943 ; **	DRAM VOLUME DATA	**
                                   2944 	
      00C05F                       2945 DRMVOL:
      00C05F C0                    2946 	.db	#0xC0	; BASS
      00C060 C0                    2947 	.db	#0xC0	; SNEA
      00C061 C0                    2948 	.db	#0xC0	; SYMB
      00C062 C0                    2949 	.db	#0xC0	; HI-HAT
      00C063 C0                    2950 	.db	#0xC0	; TAM
      00C064 C0                    2951 	.db	#0xC0	; RIM
                                   2952 	
      00C065                       2953 NEWFNM:
      00C065 00 00                 2954 	.dw	0
      00C067                       2955 OP_SEL:
      00C067 A6 AC AD AE           2956 	.db	0x0A6,0x0AC,0x0AD,0x0AE	; OP 4,3,1,2
                                   2957 	
      00C06B 00                    2958 CHNUM:	.db	0
      00C06C 00                    2959 C2NUM:	.db	0
      00C06D 00 00                 2960 TB_TOP:	.dw	0
      00C06F 00                    2961 TIMER_B:.db	0
      00C070 00                    2962 PRISSG:	.db	0
                                   2963 	
                                   2964 ; ***	ADPCM WORK	***
                                   2965 	
                                   2966 	
      00C071 08                    2967 DMY:	.db	8
      00C072 00 00                 2968 STTADR: .dw      0
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180 / ZX-Next / eZ80), page 55.
Hexadecimal [24-Bits]



      00C074 00 00                 2969 ENDADR: .dw      0
      00C076 00 00                 2970 DELT_N:	.dw	0	; play rate
      00C078 00                    2971 PCMNUM:	.db	0
      00C079 00                    2972 PCMFLG:	.db	0
      00C07A 00                    2973 PRI:	.db	0
      00C07B 32 44 46              2974 TYPE1:	.db	0x032,0x044,0x046
      00C07E AA A8 AC              2975 TYPE2:	.db	0x0AA,0x0A8,0x0AC
                                   2976 	
                                   2977 	
      00C081 6A 02 8F 02 B6 02 DF  2978 FNUMB:	.dw	0x026A,0x028F,0x02B6,0x02DF,0x030B,0x0339
             02 0B 03 39 03
      00C08D 6A 03 9E 03 D5 03 10  2979 	.dw      0x036A,0x039E,0x03D5,0x0410,0x044E,0x048F
             04 4E 04 8F 04
      00C099 E8 0E 12 0E 48 0D 89  2980 SNUMB:	.dw	0x0EE8,0x0E12,0x0D48,0x0C89,0x0BD5,0x0B2B
             0C D5 0B 2B 0B
      00C0A5 8A 0A F3 09 64 09 DD  2981 	.dw	0x0A8A,0x09F3,0x0964,0x08DD,0x085E,0x07E6
             08 5E 08 E6 07
      00C0B1                       2982 PCMNMB:		; play sampling rate until C-B 
      00C0B1 82 4A E4 4E 89 53 75  2983 	.dw	0x49BA+200,0x4E1C+200,0x52C1+200,0x57AD+200
             58
      00C0B9 AC 5D 32 63 0C 69 3F  2984 	.dw	0x5CE4+200,0x626A+200,0x6844+200,0x6E77+200
             6F
      00C0C1 D1 75 C6 7C 26 84 F5  2985 	.dw	0x7509+200,0x7BFE+200,0x835E+200,0x8B2D+200
             8B
                                   2986 	
                                   2987 	
      00C0C9                       2988 SSGDAT:
      00C0C9 FF FF FF FF 00 FF     2989 	.db	255,255,255,255,0,255 ; E
      00C0CF FF FF FF C8 00 0A     2990 	.db	255,255,255,200,0,10
      00C0D5 FF FF FF C8 01 0A     2991 	.db	255,255,255,200,1,10
      00C0DB FF FF FF BE 00 0A     2992 	.db	255,255,255,190,0,10
      00C0E1 FF FF FF BE 01 0A     2993 	.db	255,255,255,190,1,10
      00C0E7 FF FF FF AA 00 0A     2994 	.db	255,255,255,170,0,10
      00C0ED 28 46 0E BE 00 0F     2995 	.db	40,70,14,190,0,15
      00C0F3 78 1E FF FF 00 0A     2996 	.db	120,030,255,255,0,10
      00C0F9 FF FF FF E1 08 0F     2997 	.db	255,255,255,225,8,15
      00C0FF FF FF FF 01 FF FF     2998 	.db	255,255,255,1,255,255
      00C105 FF FF FF C8 08 FF     2999 	.db	255,255,255,200,8,255
      00C10B FF FF FF DC 14 08     3000 	.db	255,255,255,220,20,8
      00C111 FF FF FF FF 00 0A     3001 	.db	255,255,255,255,0,10
      00C117 FF FF FF FF 00 0A     3002 	.db	255,255,255,255,0,10
      00C11D 78 50 FF FF 00 FF     3003 	.db	120,80,255,255,0,255
      00C123 FF FF FF DC 00 FF     3004 	.db	255,255,255,220,0,255
